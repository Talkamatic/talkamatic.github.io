<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Talkamatic Dialog Manager (TDM) is based on 100 years of research on human dialog. Explore how it can be used to empower natural conversations in chatbots, telephony systems, and any other kinds of dialog systems today."><link href=https://talkamatic.github.io/api-definitions/pipeline_api/ rel=canonical><meta name=author content="Team Talkamatic"><link rel="shortcut icon" href=../../favicon.png><meta name=generator content="mkdocs-1.3.0, mkdocs-material-5.2.2"><title>Pipeline API - Talkamatic Docs</title><link rel=stylesheet href=../../assets/stylesheets/main.a2408e81.min.css><link href=https://fonts.gstatic.com rel=preconnect crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback"><style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style><link rel=stylesheet href=../../stylesheets/extra.css></head> <body dir=ltr> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#pipeline-api class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header-nav md-grid" aria-label=Header> <a href=https://talkamatic.github.io/ title="Talkamatic Docs" class="md-header-nav__button md-logo" aria-label="Talkamatic Docs"> <?xml version="1.0" encoding="UTF-8"?> <svg width=1920px height=1920px viewbox="0 0 1920 1920" xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink version=1.1> <!-- Generated by Pixelmator Pro 1.6.4 --> <path id=Shape-2 fill=#e21e3c fill-opacity=1 stroke=#ffffff stroke-width=100 stroke-opacity=1 stroke-linejoin=round d="M760 336 L1322 336 C1429.495 337.679 1520.853 384.245 1562 476 1584.25 520.92 1708.456 766.466 1727 801 1783.351 905.942 1784.834 984.772 1726 1055 1683.376 1105.878 1358 1475 1358 1475 1319.832 1513.168 1234.848 1585 1112 1585 L535 1585 C463.904 1585 363.962 1530.766 333 1468 333 1468 168.917 1153.192 140 1099 95.245 1015.126 96.22 941.563 158 859 183.378 825.084 526 439 526 439 572.176 388.313 686.281 337.395 760 336 Z"/> <path id=Shape fill=#fcffff fill-opacity=1 stroke=none d="M585.999 1369 C555.873 1368 547.999 1353.762 551.999 1326 L583.999 1137 C589.14 1102.736 599.368 1084.285 631.999 1083 L848.999 1083 C881.63 1084.285 880.426 1110.021 873.999 1143 L839.999 1323 C833.572 1355.979 817.393 1369 787.333 1369 L585.999 1369 Z M912.999 1369 C882.873 1368 874.999 1353.762 878.999 1326 L910.999 1137 C916.141 1102.736 926.368 1084.285 958.999 1083 L1175.999 1083 C1208.63 1084.285 1207.426 1110.021 1200.999 1143 L1166.999 1323 C1160.572 1355.979 1144.393 1369 1114.333 1369 L912.999 1369 Z M529.999 896 C499.873 895 491.999 880.762 495.999 853 L527.999 664 C533.14 629.736 543.368 611.285 575.999 610 L792.999 610 C825.63 611.285 824.426 637.021 817.999 670 L783.999 850 C777.572 882.979 761.393 896 731.333 896 L529.999 896 Z M856.999 896 C826.873 895 818.999 880.762 822.999 853 L854.999 664 C860.141 629.736 870.368 611.285 902.999 610 L1119.999 610 C1152.63 611.285 1151.426 637.021 1144.999 670 L1110.999 850 C1104.572 882.979 1088.393 896 1058.333 896 L856.999 896 Z M1183.999 896 C1153.873 895 1145.999 880.762 1149.999 853 L1181.999 664 C1187.14 629.736 1197.368 611.285 1229.999 610 L1446.999 610 C1479.63 611.285 1478.426 637.021 1471.999 670 L1437.999 850 C1431.572 882.979 1415.393 896 1385.333 896 L1183.999 896 Z"/> </svg> </a> <label class="md-header-nav__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg> </label> <div class=md-header-nav__title data-md-component=header-title> <div class=md-header-nav__ellipsis> <span class="md-header-nav__topic md-ellipsis"> Talkamatic Docs </span> <span class="md-header-nav__topic md-ellipsis"> Pipeline API </span> </div> </div> <label class="md-header-nav__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query data-md-state=active> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </label> <button type=reset class="md-search__icon md-icon" aria-label=Clear data-md-component=search-reset tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg> </button> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> </nav> </header> <div class=md-container data-md-component=container> <nav class="md-tabs md-tabs--active" aria-label=Tabs data-md-component=tabs> <div class="md-tabs__inner md-grid"> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../.. class=md-tabs__link> Getting started </a> </li> <li class=md-tabs__item> <a href=../../ibdm/ class=md-tabs__link> The foundation </a> </li> <li class=md-tabs__item> <a href=../../for-dialog-designers/ class=md-tabs__link> For dialog designers </a> </li> <li class=md-tabs__item> <a href=./ class="md-tabs__link md-tabs__link--active"> API definitions </a> </li> <li class=md-tabs__item> <a href=../../dialog-domain-description-definition/ class=md-tabs__link> Dialog Domain Description definitions </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=https://talkamatic.github.io/ title="Talkamatic Docs" class="md-nav__button md-logo" aria-label="Talkamatic Docs"> <?xml version="1.0" encoding="UTF-8"?> <svg width=1920px height=1920px viewbox="0 0 1920 1920" xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink version=1.1> <!-- Generated by Pixelmator Pro 1.6.4 --> <path id=Shape-2 fill=#e21e3c fill-opacity=1 stroke=#ffffff stroke-width=100 stroke-opacity=1 stroke-linejoin=round d="M760 336 L1322 336 C1429.495 337.679 1520.853 384.245 1562 476 1584.25 520.92 1708.456 766.466 1727 801 1783.351 905.942 1784.834 984.772 1726 1055 1683.376 1105.878 1358 1475 1358 1475 1319.832 1513.168 1234.848 1585 1112 1585 L535 1585 C463.904 1585 363.962 1530.766 333 1468 333 1468 168.917 1153.192 140 1099 95.245 1015.126 96.22 941.563 158 859 183.378 825.084 526 439 526 439 572.176 388.313 686.281 337.395 760 336 Z"/> <path id=Shape fill=#fcffff fill-opacity=1 stroke=none d="M585.999 1369 C555.873 1368 547.999 1353.762 551.999 1326 L583.999 1137 C589.14 1102.736 599.368 1084.285 631.999 1083 L848.999 1083 C881.63 1084.285 880.426 1110.021 873.999 1143 L839.999 1323 C833.572 1355.979 817.393 1369 787.333 1369 L585.999 1369 Z M912.999 1369 C882.873 1368 874.999 1353.762 878.999 1326 L910.999 1137 C916.141 1102.736 926.368 1084.285 958.999 1083 L1175.999 1083 C1208.63 1084.285 1207.426 1110.021 1200.999 1143 L1166.999 1323 C1160.572 1355.979 1144.393 1369 1114.333 1369 L912.999 1369 Z M529.999 896 C499.873 895 491.999 880.762 495.999 853 L527.999 664 C533.14 629.736 543.368 611.285 575.999 610 L792.999 610 C825.63 611.285 824.426 637.021 817.999 670 L783.999 850 C777.572 882.979 761.393 896 731.333 896 L529.999 896 Z M856.999 896 C826.873 895 818.999 880.762 822.999 853 L854.999 664 C860.141 629.736 870.368 611.285 902.999 610 L1119.999 610 C1152.63 611.285 1151.426 637.021 1144.999 670 L1110.999 850 C1104.572 882.979 1088.393 896 1058.333 896 L856.999 896 Z M1183.999 896 C1153.873 895 1145.999 880.762 1149.999 853 L1181.999 664 C1187.14 629.736 1197.368 611.285 1229.999 610 L1446.999 610 C1479.63 611.285 1478.426 637.021 1471.999 670 L1437.999 850 C1431.572 882.979 1415.393 896 1385.333 896 L1183.999 896 Z"/> </svg> </a> Talkamatic Docs </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../.. title="Getting started" class=md-nav__link> Getting started </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-2 type=checkbox id=nav-2> <label class=md-nav__link for=nav-2> The foundation <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label="The foundation" data-md-level=1> <label class=md-nav__title for=nav-2> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> The foundation </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../ibdm/ title="Issue-based Dialogue Management" class=md-nav__link> Issue-based Dialogue Management </a> </li> <li class=md-nav__item> <a href=../../formalism/ title="Dialog formalism" class=md-nav__link> Dialog formalism </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-3 type=checkbox id=nav-3> <label class=md-nav__link for=nav-3> For dialog designers <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label="For dialog designers" data-md-level=1> <label class=md-nav__title for=nav-3> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> For dialog designers </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../for-dialog-designers/ title=Introduction class=md-nav__link> Introduction </a> </li> <li class=md-nav__item> <a href=../../for-dialog-designers/tutorial/ title="Step-by-step tutorial" class=md-nav__link> Step-by-step tutorial </a> </li> <li class=md-nav__item> <a href=../../for-dialog-designers/examples/ title=Examples class=md-nav__link> Examples </a> </li> <li class=md-nav__item> <a href=../../for-dialog-designers/rasa_nlu/ title="Using Rasa NLU" class=md-nav__link> Using Rasa NLU </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-4 type=checkbox id=nav-4 checked> <label class=md-nav__link for=nav-4> API definitions <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label="API definitions" data-md-level=1> <label class=md-nav__title for=nav-4> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> API definitions </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" data-md-toggle=toc type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> Pipeline API <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 9h14V7H3v2m0 4h14v-2H3v2m0 4h14v-2H3v2m16 0h2v-2h-2v2m0-10v2h2V7h-2m0 6h2v-2h-2v2z"/></svg> </span> </label> <a href=./ title="Pipeline API" class="md-nav__link md-nav__link--active"> Pipeline API </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Table of contents </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=#important-concepts class=md-nav__link> Important concepts </a> <nav class=md-nav aria-label="Important concepts"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#requests-and-responses class=md-nav__link> Requests and responses </a> </li> <li class=md-nav__item> <a href=#turn-taking class=md-nav__link> Turn taking </a> </li> <li class=md-nav__item> <a href=#errors class=md-nav__link> Errors </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#start-session-requests class=md-nav__link> Start session requests </a> <nav class=md-nav aria-label="Start session requests"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#request class=md-nav__link> Request </a> </li> <li class=md-nav__item> <a href=#response class=md-nav__link> Response </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#natural-language-input-requests class=md-nav__link> Natural language input requests </a> <nav class=md-nav aria-label="Natural language input requests"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#request_1 class=md-nav__link> Request </a> </li> <li class=md-nav__item> <a href=#response_1 class=md-nav__link> Response </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#semantic-input-requests class=md-nav__link> Semantic input requests </a> <nav class=md-nav aria-label="Semantic input requests"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#request_2 class=md-nav__link> Request </a> </li> <li class=md-nav__item> <a href=#response_2 class=md-nav__link> Response </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#passivity-requests class=md-nav__link> Passivity requests </a> <nav class=md-nav aria-label="Passivity requests"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#request_3 class=md-nav__link> Request </a> </li> <li class=md-nav__item> <a href=#response_3 class=md-nav__link> Response </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#event-requests class=md-nav__link> Event requests </a> <nav class=md-nav aria-label="Event requests"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#request_4 class=md-nav__link> Request </a> </li> <li class=md-nav__item> <a href=#response_4 class=md-nav__link> Response </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#response-format class=md-nav__link> Response format </a> <nav class=md-nav aria-label="Response format"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#successful-request class=md-nav__link> Successful request </a> </li> <li class=md-nav__item> <a href=#request-that-encountered-an-error class=md-nav__link> Request that encountered an error </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#session-object class=md-nav__link> Session object </a> </li> <li class=md-nav__item> <a href=#output-object class=md-nav__link> Output object </a> </li> <li class=md-nav__item> <a href=#nlu-results-object class=md-nav__link> NLU results object </a> </li> <li class=md-nav__item> <a href=#context-object class=md-nav__link> Context object </a> </li> <li class=md-nav__item> <a href=#action-invocation-object class=md-nav__link> Action invocation object </a> </li> <li class=md-nav__item> <a href=#facts-object class=md-nav__link> Facts object </a> </li> <li class=md-nav__item> <a href=#expected-input-object class=md-nav__link> Expected input object </a> </li> <li class=md-nav__item> <a href=#alternative-object class=md-nav__link> Alternative object </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../service_api/ title="Service API" class=md-nav__link> Service API </a> </li> <li class=md-nav__item> <a href=../nlu_api/ title="NLU API" class=md-nav__link> NLU API </a> </li> <li class=md-nav__item> <a href=../nlg_api/ title="NLG API" class=md-nav__link> NLG API </a> </li> <li class=md-nav__item> <a href=../shared_objects/ title="Shared objects" class=md-nav__link> Shared objects </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-5 type=checkbox id=nav-5> <label class=md-nav__link for=nav-5> Dialog Domain Description definitions <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label="Dialog Domain Description definitions" data-md-level=1> <label class=md-nav__title for=nav-5> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Dialog Domain Description definitions </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../dialog-domain-description-definition/ title=Introduction class=md-nav__link> Introduction </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-5-2 type=checkbox id=nav-5-2> <label class=md-nav__link for=nav-5-2> Grammar <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label=Grammar data-md-level=2> <label class=md-nav__title for=nav-5-2> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Grammar </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../dialog-domain-description-definition/grammar/grammar/ title=Introduction class=md-nav__link> Introduction </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-5-2-2 type=checkbox id=nav-5-2-2> <label class=md-nav__link for=nav-5-2-2> Elements <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label=Elements data-md-level=3> <label class=md-nav__title for=nav-5-2-2> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Elements </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../dialog-domain-description-definition/grammar/elements/action/ title=Action class=md-nav__link> Action </a> </li> <li class=md-nav__item> <a href=../../dialog-domain-description-definition/grammar/elements/answer/ title=Answer class=md-nav__link> Answer </a> </li> <li class=md-nav__item> <a href=../../dialog-domain-description-definition/grammar/elements/greeting/ title=Greeting class=md-nav__link> Greeting </a> </li> <li class=md-nav__item> <a href=../../dialog-domain-description-definition/grammar/elements/individual/ title=Individual class=md-nav__link> Individual </a> </li> <li class=md-nav__item> <a href=../../dialog-domain-description-definition/grammar/elements/preconfirm/ title=Preconfirm class=md-nav__link> Preconfirm </a> </li> <li class=md-nav__item> <a href=../../dialog-domain-description-definition/grammar/elements/question/ title=Question class=md-nav__link> Question </a> </li> <li class=md-nav__item> <a href=../../dialog-domain-description-definition/grammar/elements/report/ title=Report class=md-nav__link> Report </a> </li> <li class=md-nav__item> <a href=../../dialog-domain-description-definition/grammar/elements/validity/ title=Validity class=md-nav__link> Validity </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-5-2-3 type=checkbox id=nav-5-2-3> <label class=md-nav__link for=nav-5-2-3> Children <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label=Children data-md-level=3> <label class=md-nav__title for=nav-5-2-3> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Children </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../dialog-domain-description-definition/grammar/children/item/ title=Item class=md-nav__link> Item </a> </li> <li class=md-nav__item> <a href=../../dialog-domain-description-definition/grammar/children/one-of/ title=One-of class=md-nav__link> One-of </a> </li> <li class=md-nav__item> <a href=../../dialog-domain-description-definition/grammar/children/slot/ title=Slot class=md-nav__link> Slot </a> </li> <li class=md-nav__item> <a href=../../dialog-domain-description-definition/grammar/children/vp/ title=VP class=md-nav__link> VP </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-5-3 type=checkbox id=nav-5-3> <label class=md-nav__link for=nav-5-3> Service Interface <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label="Service Interface" data-md-level=2> <label class=md-nav__title for=nav-5-3> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Service Interface </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../dialog-domain-description-definition/service_interface/service_interface/ title=Introduction class=md-nav__link> Introduction </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-5-3-2 type=checkbox id=nav-5-3-2> <label class=md-nav__link for=nav-5-3-2> Elements <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label=Elements data-md-level=3> <label class=md-nav__title for=nav-5-3-2> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Elements </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../dialog-domain-description-definition/service_interface/elements/action/ title=Action class=md-nav__link> Action </a> </li> <li class=md-nav__item> <a href=../../dialog-domain-description-definition/service_interface/elements/entity_recognizer/ title="Entity Recognizer" class=md-nav__link> Entity Recognizer </a> </li> <li class=md-nav__item> <a href=../../dialog-domain-description-definition/service_interface/elements/query/ title=Query class=md-nav__link> Query </a> </li> <li class=md-nav__item> <a href=../../dialog-domain-description-definition/service_interface/elements/validator/ title=Validator class=md-nav__link> Validator </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-5-3-3 type=checkbox id=nav-5-3-3> <label class=md-nav__link for=nav-5-3-3> Children <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label=Children data-md-level=3> <label class=md-nav__title for=nav-5-3-3> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Children </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../dialog-domain-description-definition/service_interface/children/failure_reasons/ title="Failure Reasons" class=md-nav__link> Failure Reasons </a> </li> <li class=md-nav__item> <a href=../../dialog-domain-description-definition/service_interface/children/parameters/ title=Parameters class=md-nav__link> Parameters </a> </li> <li class=md-nav__item> <a href=../../dialog-domain-description-definition/service_interface/children/target/ title=Target class=md-nav__link> Target </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-5-4 type=checkbox id=nav-5-4> <label class=md-nav__link for=nav-5-4> Domain <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label=Domain data-md-level=2> <label class=md-nav__title for=nav-5-4> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Domain </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../dialog-domain-description-definition/domain/domain/ title=Introduction class=md-nav__link> Introduction </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-5-4-2 type=checkbox id=nav-5-4-2> <label class=md-nav__link for=nav-5-4-2> Elements <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label=Elements data-md-level=3> <label class=md-nav__title for=nav-5-4-2> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Elements </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../dialog-domain-description-definition/domain/elements/goal/ title=Goal class=md-nav__link> Goal </a> </li> <li class=md-nav__item> <a href=../../dialog-domain-description-definition/domain/elements/parameters/ title=Parameters class=md-nav__link> Parameters </a> </li> <li class=md-nav__item> <a href=../../dialog-domain-description-definition/domain/children/plan/ title=Plan class=md-nav__link> Plan </a> </li> <li class=md-nav__item> <a href=../../dialog-domain-description-definition/domain/elements/dependency/ title=Dependency class=md-nav__link> Dependency </a> </li> <li class=md-nav__item> <a href=../../dialog-domain-description-definition/domain/elements/query/ title=Query class=md-nav__link> Query </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-5-4-3 type=checkbox id=nav-5-4-3> <label class=md-nav__link for=nav-5-4-3> Plan Items <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label="Plan Items" data-md-level=3> <label class=md-nav__title for=nav-5-4-3> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Plan Items </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../dialog-domain-description-definition/domain/children/assume_issue/ title="Assume Issue" class=md-nav__link> Assume Issue </a> </li> <li class=md-nav__item> <a href=../../dialog-domain-description-definition/domain/children/assume_shared/ title="Assume Shared" class=md-nav__link> Assume Shared </a> </li> <li class=md-nav__item> <a href=../../dialog-domain-description-definition/domain/children/assume_system_belief/ title="Assume System Belief" class=md-nav__link> Assume System Belief </a> </li> <li class=md-nav__item> <a href=../../dialog-domain-description-definition/domain/children/bind/ title=Bind class=md-nav__link> Bind </a> </li> <li class=md-nav__item> <a href=../../dialog-domain-description-definition/domain/children/end_turn/ title="End Turn" class=md-nav__link> End Turn </a> </li> <li class=md-nav__item> <a href=../../dialog-domain-description-definition/domain/children/findout/ title=Findout class=md-nav__link> Findout </a> </li> <li class=md-nav__item> <a href=../../dialog-domain-description-definition/domain/children/forget_all/ title="Forget All" class=md-nav__link> Forget All </a> </li> <li class=md-nav__item> <a href=../../dialog-domain-description-definition/domain/children/forget/ title=Forget class=md-nav__link> Forget </a> </li> <li class=md-nav__item> <a href=../../dialog-domain-description-definition/domain/children/get_done/ title="Get Done" class=md-nav__link> Get Done </a> </li> <li class=md-nav__item> <a href=../../dialog-domain-description-definition/domain/children/if/ title=If class=md-nav__link> If </a> </li> <li class=md-nav__item> <a href=../../dialog-domain-description-definition/domain/children/inform/ title=Inform class=md-nav__link> Inform </a> </li> <li class=md-nav__item> <a href=../../dialog-domain-description-definition/domain/children/invoke_service_action/ title="Invoke Service Action" class=md-nav__link> Invoke Service Action </a> </li> <li class=md-nav__item> <a href=../../dialog-domain-description-definition/domain/children/invoke_service_query/ title="Invoke Service Query" class=md-nav__link> Invoke Service Query </a> </li> <li class=md-nav__item> <a href=../../dialog-domain-description-definition/domain/children/invoke_domain_query/ title="Invoke Domain Query" class=md-nav__link> Invoke Domain Query </a> </li> <li class=md-nav__item> <a href=../../dialog-domain-description-definition/domain/children/jumpto.md title=Jumpto class=md-nav__link> Jumpto </a> </li> <li class=md-nav__item> <a href=../../dialog-domain-description-definition/domain/children/log/ title=Log class=md-nav__link> Log </a> </li> <li class=md-nav__item> <a href=../../dialog-domain-description-definition/domain/children/raise/ title=Raise class=md-nav__link> Raise </a> </li> <li class=md-nav__item> <a href=../../dialog-domain-description-definition/domain/children/signal_action_completion/ title=Signal_Action_Completion class=md-nav__link> Signal_Action_Completion </a> </li> <li class=md-nav__item> <a href=../../dialog-domain-description-definition/domain/children/signal_action_failure/ title=Signal_Action_Failure class=md-nav__link> Signal_Action_Failure </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-5-4-4 type=checkbox id=nav-5-4-4> <label class=md-nav__link for=nav-5-4-4> Children <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label=Children data-md-level=3> <label class=md-nav__title for=nav-5-4-4> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Children </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../dialog-domain-description-definition/domain/children/always_relevant/ title="Always Relevant" class=md-nav__link> Always Relevant </a> </li> <li class=md-nav__item> <a href=../../dialog-domain-description-definition/domain/children/ask_feature/ title="Ask Feature" class=md-nav__link> Ask Feature </a> </li> <li class=md-nav__item> <a href=../../dialog-domain-description-definition/domain/children/background/ title=Background class=md-nav__link> Background </a> </li> <li class=md-nav__item> <a href=../../dialog-domain-description-definition/domain/children/hint/ title=Hint class=md-nav__link> Hint </a> </li> <li class=md-nav__item> <a href=../../dialog-domain-description-definition/domain/children/service_query/ title="Service Query" class=md-nav__link> Service Query </a> </li> <li class=md-nav__item> <a href=../../dialog-domain-description-definition/domain/children/downdate_condition/ title="Downdate Condition" class=md-nav__link> Downdate Condition </a> </li> <li class=md-nav__item> <a href=../../dialog-domain-description-definition/domain/children/conditions/ title="Has Shared Value" class=md-nav__link> Has Shared Value </a> </li> <li class=md-nav__item> <a href=../../dialog-domain-description-definition/domain/children/conditions/ title="Has Private Value" class=md-nav__link> Has Private Value </a> </li> <li class=md-nav__item> <a href=../../dialog-domain-description-definition/domain/children/conditions/ title="Has Shared or Private Value" class=md-nav__link> Has Shared or Private Value </a> </li> <li class=md-nav__item> <a href=../../dialog-domain-description-definition/domain/children/conditions/ title="Is Shared Commitment" class=md-nav__link> Is Shared Commitment </a> </li> <li class=md-nav__item> <a href=../../dialog-domain-description-definition/domain/children/conditions/ title="Is Private Belief" class=md-nav__link> Is Private Belief </a> </li> <li class=md-nav__item> <a href=../../dialog-domain-description-definition/domain/children/conditions/ title="Is Private Belief or Shared Commitment" class=md-nav__link> Is Private Belief or Shared Commitment </a> </li> <li class=md-nav__item> <a href=../../dialog-domain-description-definition/domain/children/postplan/ title=Postplan class=md-nav__link> Postplan </a> </li> <li class=md-nav__item> <a href=../../dialog-domain-description-definition/domain/children/preferred.md title=Preferred class=md-nav__link> Preferred </a> </li> <li class=md-nav__item> <a href=../../dialog-domain-description-definition/domain/children/proposition/ title=Proposition class=md-nav__link> Proposition </a> </li> <li class=md-nav__item> <a href=../../dialog-domain-description-definition/domain/children/superaction.md title=Superaction class=md-nav__link> Superaction </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-5-5 type=checkbox id=nav-5-5> <label class=md-nav__link for=nav-5-5> Ontology <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label=Ontology data-md-level=2> <label class=md-nav__title for=nav-5-5> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Ontology </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../dialog-domain-description-definition/ontology/ontology/ title=Introduction class=md-nav__link> Introduction </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-5-5-2 type=checkbox id=nav-5-5-2> <label class=md-nav__link for=nav-5-5-2> Elements <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg> </span> </label> <nav class=md-nav aria-label=Elements data-md-level=3> <label class=md-nav__title for=nav-5-5-2> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Elements </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../dialog-domain-description-definition/ontology/elements/sort/ title=Sort class=md-nav__link> Sort </a> </li> <li class=md-nav__item> <a href=../../dialog-domain-description-definition/ontology/elements/predicate/ title=Predicate class=md-nav__link> Predicate </a> </li> <li class=md-nav__item> <a href=../../dialog-domain-description-definition/ontology/elements/individual/ title=Individual class=md-nav__link> Individual </a> </li> <li class=md-nav__item> <a href=../../dialog-domain-description-definition/ontology/elements/action/ title=Action class=md-nav__link> Action </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </span> Table of contents </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=#important-concepts class=md-nav__link> Important concepts </a> <nav class=md-nav aria-label="Important concepts"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#requests-and-responses class=md-nav__link> Requests and responses </a> </li> <li class=md-nav__item> <a href=#turn-taking class=md-nav__link> Turn taking </a> </li> <li class=md-nav__item> <a href=#errors class=md-nav__link> Errors </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#start-session-requests class=md-nav__link> Start session requests </a> <nav class=md-nav aria-label="Start session requests"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#request class=md-nav__link> Request </a> </li> <li class=md-nav__item> <a href=#response class=md-nav__link> Response </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#natural-language-input-requests class=md-nav__link> Natural language input requests </a> <nav class=md-nav aria-label="Natural language input requests"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#request_1 class=md-nav__link> Request </a> </li> <li class=md-nav__item> <a href=#response_1 class=md-nav__link> Response </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#semantic-input-requests class=md-nav__link> Semantic input requests </a> <nav class=md-nav aria-label="Semantic input requests"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#request_2 class=md-nav__link> Request </a> </li> <li class=md-nav__item> <a href=#response_2 class=md-nav__link> Response </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#passivity-requests class=md-nav__link> Passivity requests </a> <nav class=md-nav aria-label="Passivity requests"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#request_3 class=md-nav__link> Request </a> </li> <li class=md-nav__item> <a href=#response_3 class=md-nav__link> Response </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#event-requests class=md-nav__link> Event requests </a> <nav class=md-nav aria-label="Event requests"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#request_4 class=md-nav__link> Request </a> </li> <li class=md-nav__item> <a href=#response_4 class=md-nav__link> Response </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#response-format class=md-nav__link> Response format </a> <nav class=md-nav aria-label="Response format"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#successful-request class=md-nav__link> Successful request </a> </li> <li class=md-nav__item> <a href=#request-that-encountered-an-error class=md-nav__link> Request that encountered an error </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#session-object class=md-nav__link> Session object </a> </li> <li class=md-nav__item> <a href=#output-object class=md-nav__link> Output object </a> </li> <li class=md-nav__item> <a href=#nlu-results-object class=md-nav__link> NLU results object </a> </li> <li class=md-nav__item> <a href=#context-object class=md-nav__link> Context object </a> </li> <li class=md-nav__item> <a href=#action-invocation-object class=md-nav__link> Action invocation object </a> </li> <li class=md-nav__item> <a href=#facts-object class=md-nav__link> Facts object </a> </li> <li class=md-nav__item> <a href=#expected-input-object class=md-nav__link> Expected input object </a> </li> <li class=md-nav__item> <a href=#alternative-object class=md-nav__link> Alternative object </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content> <article class="md-content__inner md-typeset"> <h1 id=pipeline-api>Pipeline API<a class=headerlink href=#pipeline-api title="Permanent link">&para;</a></h1> <p>This document describes API version 3.4 for HTTP frontends, enabling frontends to integrate with TDM over HTTP. It covers e.g. how input from the user and output from TDM are communicated between TDM and the client.</p> <h2 id=important-concepts>Important concepts<a class=headerlink href=#important-concepts title="Permanent link">&para;</a></h2> <p>This section describes some concepts that are important to understand and comply with when integrating TDM in a dialog system.</p> <h3 id=requests-and-responses>Requests and responses<a class=headerlink href=#requests-and-responses title="Permanent link">&para;</a></h3> <p>TDM serves an HTTP server and responds to requests done by the client. The client is the consumer of the API outlined in this document.</p> <p>The client invokes TDM with an HTTP request to the interaction endpoint, e.g. <code>http://localhost:9090/interact</code>, using the POST method and a JSON body. The client should expect the status code to be 200 OK. For other status codes, the client should report an error to the user.</p> <p>The request body always contains a version number, specifying the version of the HTTP API format.</p> <p>The exact format of the request and the response depends on the type of request as described in the separate sections below.</p> <h3 id=turn-taking>Turn taking<a class=headerlink href=#turn-taking title="Permanent link">&para;</a></h3> <p>Turn taking is a vital part of dialog between humans, read for instance <a href=https://en.wikipedia.org/wiki/Turn-taking>the Wikipedia article</a>. Since TDM is based on research on human-human dialog, turn taking is a central concept here too.</p> <p>The TDM client is responsible for managing turn-taking on behalf of the machine, because it's the component that is closest to the human, in the human-machine dialog that TDM enables. Since the machine is intended to assist the human, the human decides the pace, the turn taking, of the conversation. In spoken dialog, turn taking happens in close collaboration with the spoken output of the system, which means that the system's turn management needs to happen as close to this component, the text-to-speech component (TTS), as possible.</p> <p>TDM enables intuitive turn taking by instructing its client how to deal with the user input that it's range of sensors can pick up. The instructions are straightforward and revolve around passivity. If the user is passive, for instance doesn't know what to say, for a given amount of time, the client sends TDM a <a href=#passivity-requests>passivity request</a>, which lets the system take the next turn instead of the user.</p> <p>The user should be considered passive when not doing anything related to the dialog. If the user however takes some action (although not completing its turn just yet), for instance by typing (if it's a text interface) or talking (if it's a spoken interface), the user should be considered active and the passivity request should not be sent to TDM. Instead the user should be allowed to complete its turn, resulting in an input request.</p> <p>TDM instructs its client about how much time of passivity that should pass before sending the passivity request in the <code>output.expected_passivity</code> field of the <a href=#response-format>response</a>.</p> <p>For instance, if TDM responds with:</p> <div class=highlight><pre><span></span><code><span class=p>{</span><span class=w></span>
<span class=w>  </span><span class=nt>&quot;output&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=w></span>
<span class=w>    </span><span class=err>...</span><span class=w></span>
<span class=w>    </span><span class=nt>&quot;expected_passivity&quot;</span><span class=p>:</span><span class=w> </span><span class=mf>1.0</span><span class=w></span>
<span class=w>  </span><span class=p>},</span><span class=w></span>
<span class=w>  </span><span class=err>...</span><span class=w></span>
<span class=p>}</span><span class=w></span>
</code></pre></div> <p>then the client should send a <a href=#passivity-requests>passivity request</a> when the user has been passive for 1 second. The 1 second should start counting when the system utterance has reached the user, which in a spoken interface means when the TTS finished speaking TDM's utterance.</p> <p>Note that sometimes TDM does not have anything to say when the user becomes passive (<code>"expected_passivity": null</code>), and sometimes it just needs to progress the conversation immediately after saying something (<code>"expected_passivity": 0.0</code>).</p> <p>Read the details about how to interpret the <code>expected_passivity</code> value in the <a href=#response-format>response format section</a>.</p> <h3 id=errors>Errors<a class=headerlink href=#errors title="Permanent link">&para;</a></h3> <p>When an error occurs in TDM during a request, for instance due to incomplete turn management, the <a href=#response-format>response</a> contains the <code>"error"</code> field. It's important to note that this could mean that the session stops. If it has stopped, further requests on the same session will report errors that the provided session ID is unknown.</p> <h2 id=start-session-requests>Start session requests<a class=headerlink href=#start-session-requests title="Permanent link">&para;</a></h2> <p>When a new session should be started, the client issues a <code>start_session</code> request. The response contains initial output from TDM and a session ID that can be used in subsequent requests. For more details, see <a href=#response-format>the response format</a>.</p> <p>If a session ID is provided together with the <code>start_session</code> request, an error is given. The integrity of the session is however maintained.</p> <h3 id=request>Request<a class=headerlink href=#request title="Permanent link">&para;</a></h3> <p>Example:</p> <div class=highlight><pre><span></span><code><span class=p>{</span><span class=w></span>
<span class=w>  </span><span class=nt>&quot;version&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;3.4&quot;</span><span class=p>,</span><span class=w></span>
<span class=w>  </span><span class=nt>&quot;session&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{},</span><span class=w></span>
<span class=w>  </span><span class=nt>&quot;request&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=w></span>
<span class=w>    </span><span class=nt>&quot;start_session&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{}</span><span class=w></span>
<span class=w>  </span><span class=p>}</span><span class=w></span>
<span class=p>}</span><span class=w></span>
</code></pre></div> <p>The <code>session</code> object can contain frontend-specific session data to be used in dialog or by services. For more details, see <a href=#session-object>the session object</a>.</p> <p>The <code>start_session</code> object may contain the following optional members:</p> <ul> <li><code>ddd_set</code>: A string specifying a DDD set for the session. If omitted, a default DDD set configured by the backend is used.</li> </ul> <p>The <code>start_session</code> request may be issued on its own, so that the system will start the conversation; or combined with <code>natural_language_input</code>, <code>semantic_input</code> and <code>event</code> requests to start the conversation from there.</p> <p>Example when combined with <code>natural_language_input</code>:</p> <div class=highlight><pre><span></span><code><span class=p>{</span><span class=w></span>
<span class=w>  </span><span class=nt>&quot;version&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;3.4&quot;</span><span class=p>,</span><span class=w></span>
<span class=w>  </span><span class=nt>&quot;request&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=w></span>
<span class=w>    </span><span class=nt>&quot;start_session&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{},</span><span class=w></span>
<span class=w>    </span><span class=nt>&quot;natural_language_input&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=err>...</span><span class=p>}</span><span class=w></span>
<span class=w>  </span><span class=p>}</span><span class=w></span>
<span class=p>}</span><span class=w></span>
</code></pre></div> <h3 id=response>Response<a class=headerlink href=#response title="Permanent link">&para;</a></h3> <p>See <a href=#response-format>response format</a>.</p> <h2 id=natural-language-input-requests>Natural language input requests<a class=headerlink href=#natural-language-input-requests title="Permanent link">&para;</a></h2> <p>When the client detects natural language input from the user, it issues a request and receives output from TDM. The request can contain either hypotheses with the <code>speech</code> modality, or a single utterance with the <code>text</code> modality.</p> <h3 id=request_1>Request<a class=headerlink href=#request_1 title="Permanent link">&para;</a></h3> <p>Speech input example:</p> <div class=highlight><pre><span></span><code><span class=p>{</span><span class=w></span>
<span class=w>  </span><span class=nt>&quot;version&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;3.4&quot;</span><span class=p>,</span><span class=w></span>
<span class=w>  </span><span class=nt>&quot;session&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=w></span>
<span class=w>    </span><span class=nt>&quot;session_id&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;0000-abcd-1111-efgh&quot;</span><span class=w></span>
<span class=w>  </span><span class=p>},</span><span class=w></span>
<span class=w>  </span><span class=nt>&quot;request&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=w></span>
<span class=w>    </span><span class=nt>&quot;natural_language_input&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=w></span>
<span class=w>      </span><span class=nt>&quot;modality&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;speech&quot;</span><span class=p>,</span><span class=w></span>
<span class=w>      </span><span class=nt>&quot;hypotheses&quot;</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=w></span>
<span class=w>        </span><span class=p>{</span><span class=w></span>
<span class=w>          </span><span class=nt>&quot;utterance&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;call John&quot;</span><span class=p>,</span><span class=w></span>
<span class=w>          </span><span class=nt>&quot;confidence&quot;</span><span class=p>:</span><span class=w> </span><span class=mf>0.81</span><span class=w></span>
<span class=w>        </span><span class=p>},</span><span class=w></span>
<span class=w>        </span><span class=p>{</span><span class=w></span>
<span class=w>          </span><span class=nt>&quot;utterance&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;calling John&quot;</span><span class=p>,</span><span class=w></span>
<span class=w>          </span><span class=nt>&quot;confidence&quot;</span><span class=p>:</span><span class=w> </span><span class=mf>0.65</span><span class=w></span>
<span class=w>        </span><span class=p>},</span><span class=w></span>
<span class=w>        </span><span class=p>{</span><span class=w></span>
<span class=w>          </span><span class=nt>&quot;utterance&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;call him John&quot;</span><span class=p>,</span><span class=w></span>
<span class=w>          </span><span class=nt>&quot;confidence&quot;</span><span class=p>:</span><span class=w> </span><span class=mf>0.31</span><span class=w></span>
<span class=w>        </span><span class=p>}</span><span class=w></span>
<span class=w>      </span><span class=p>]</span><span class=w></span>
<span class=w>    </span><span class=p>}</span><span class=w></span>
<span class=w>  </span><span class=p>}</span><span class=w></span>
<span class=p>}</span><span class=w></span>
</code></pre></div> <p>Text input example:</p> <div class=highlight><pre><span></span><code><span class=p>{</span><span class=w></span>
<span class=w>  </span><span class=nt>&quot;version&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;3.4&quot;</span><span class=p>,</span><span class=w></span>
<span class=w>  </span><span class=nt>&quot;session&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=w></span>
<span class=w>    </span><span class=nt>&quot;session_id&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;0000-abcd-1111-efgh&quot;</span><span class=w></span>
<span class=w>  </span><span class=p>},</span><span class=w></span>
<span class=w>  </span><span class=nt>&quot;request&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=w></span>
<span class=w>    </span><span class=nt>&quot;natural_language_input&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=w></span>
<span class=w>      </span><span class=nt>&quot;modality&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;text&quot;</span><span class=p>,</span><span class=w></span>
<span class=w>      </span><span class=nt>&quot;utterance&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;I&#39;m searching for flights from London to Paris tomorrow&quot;</span><span class=w></span>
<span class=w>    </span><span class=p>}</span><span class=w></span>
<span class=w>  </span><span class=p>}</span><span class=w></span>
<span class=p>}</span><span class=w></span>
</code></pre></div> <p>The <code>session</code> object can contain frontend-specific session data to be used in dialog or by services. For more details, see <a href=#session-object>the session object</a></p> <p>See the <a href=../shared_objects/#natural-language-input-object>natural language input object</a> for more details.</p> <p>The <code>natural_language_input</code> request may be combined with the <code>start_session</code> request when a session does not yet exist, but may not be combined with other requests.</p> <p>Example: <div class=highlight><pre><span></span><code><span class=p>{</span><span class=w></span>
<span class=w>  </span><span class=nt>&quot;version&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;3.4&quot;</span><span class=p>,</span><span class=w></span>
<span class=w>  </span><span class=nt>&quot;request&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=w></span>
<span class=w>    </span><span class=nt>&quot;start_session&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{},</span><span class=w></span>
<span class=w>    </span><span class=nt>&quot;natural_language_input&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=err>...</span><span class=p>}</span><span class=w></span>
<span class=w>  </span><span class=p>}</span><span class=w></span>
<span class=p>}</span><span class=w></span>
</code></pre></div></p> <h3 id=response_1>Response<a class=headerlink href=#response_1 title="Permanent link">&para;</a></h3> <p>See <a href=#response-format>response format</a>.</p> <h2 id=semantic-input-requests>Semantic input requests<a class=headerlink href=#semantic-input-requests title="Permanent link">&para;</a></h2> <p>When the client has user input on a semantic format, as a user move, it should issue the <code>semantic_input</code> request.</p> <p>Semantic in this case means that the user input does not need to be interpreted; the user move is already known. This is useful when an external natural language understanding (NLU) component has already interpreted the input; when the user presses a button in a GUI; or for instance when the user makes a gesture which is interpreted as a user move.</p> <h3 id=request_2>Request<a class=headerlink href=#request_2 title="Permanent link">&para;</a></h3> <div class=highlight><pre><span></span><code><span class=p>{</span><span class=w></span>
<span class=w>  </span><span class=nt>&quot;version&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;3.4&quot;</span><span class=p>,</span><span class=w></span>
<span class=w>  </span><span class=nt>&quot;session&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=w></span>
<span class=w>    </span><span class=nt>&quot;session_id&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;0000-abcd-1111-efgh&quot;</span><span class=w></span>
<span class=w>  </span><span class=p>},</span><span class=w></span>
<span class=w>  </span><span class=nt>&quot;request&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=w></span>
<span class=w>    </span><span class=nt>&quot;semantic_input&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=w></span>
<span class=w>      </span><span class=nt>&quot;interpretations&quot;</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=w></span>
<span class=w>        </span><span class=p>{</span><span class=w></span>
<span class=w>          </span><span class=nt>&quot;utterance&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;call John&quot;</span><span class=p>,</span><span class=w></span>
<span class=w>          </span><span class=nt>&quot;modality&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;speech&quot;</span><span class=p>,</span><span class=w></span>
<span class=w>          </span><span class=nt>&quot;moves&quot;</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=w></span>
<span class=w>            </span><span class=p>{</span><span class=w></span>
<span class=w>              </span><span class=nt>&quot;perception_confidence&quot;</span><span class=p>:</span><span class=w> </span><span class=mf>0.81</span><span class=p>,</span><span class=w></span>
<span class=w>              </span><span class=nt>&quot;understanding_confidence&quot;</span><span class=p>:</span><span class=w> </span><span class=mf>0.92215</span><span class=p>,</span><span class=w></span>
<span class=w>              </span><span class=nt>&quot;ddd&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;phone&quot;</span><span class=p>,</span><span class=w></span>
<span class=w>              </span><span class=nt>&quot;semantic_expression&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;request(call)&quot;</span><span class=w></span>
<span class=w>            </span><span class=p>},</span><span class=w></span>
<span class=w>            </span><span class=p>{</span><span class=w></span>
<span class=w>              </span><span class=nt>&quot;perception_confidence&quot;</span><span class=p>:</span><span class=w> </span><span class=mf>0.81</span><span class=p>,</span><span class=w></span>
<span class=w>              </span><span class=nt>&quot;understanding_confidence&quot;</span><span class=p>:</span><span class=w> </span><span class=mf>0.98532</span><span class=p>,</span><span class=w></span>
<span class=w>              </span><span class=nt>&quot;ddd&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;phone&quot;</span><span class=p>,</span><span class=w></span>
<span class=w>              </span><span class=nt>&quot;semantic_expression&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;answer(contact_john)&quot;</span><span class=w></span>
<span class=w>            </span><span class=p>}</span><span class=w></span>
<span class=w>          </span><span class=p>]</span><span class=w></span>
<span class=w>        </span><span class=p>},</span><span class=w></span>
<span class=w>        </span><span class=p>{</span><span class=w></span>
<span class=w>          </span><span class=nt>&quot;utterance&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;calling John&quot;</span><span class=p>,</span><span class=w></span>
<span class=w>          </span><span class=nt>&quot;modality&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;speech&quot;</span><span class=p>,</span><span class=w></span>
<span class=w>          </span><span class=nt>&quot;moves&quot;</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=w></span>
<span class=w>            </span><span class=p>{</span><span class=w></span>
<span class=w>              </span><span class=nt>&quot;perception_confidence&quot;</span><span class=p>:</span><span class=w> </span><span class=mf>0.65</span><span class=p>,</span><span class=w></span>
<span class=w>              </span><span class=nt>&quot;understanding_confidence&quot;</span><span class=p>:</span><span class=w> </span><span class=mf>0.5234</span><span class=p>,</span><span class=w></span>
<span class=w>              </span><span class=nt>&quot;ddd&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;phone&quot;</span><span class=p>,</span><span class=w></span>
<span class=w>              </span><span class=nt>&quot;semantic_expression&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;request(call)&quot;</span><span class=w></span>
<span class=w>            </span><span class=p>},</span><span class=w></span>
<span class=w>            </span><span class=p>{</span><span class=w></span>
<span class=w>              </span><span class=nt>&quot;perception_confidence&quot;</span><span class=p>:</span><span class=w> </span><span class=mf>0.65</span><span class=p>,</span><span class=w></span>
<span class=w>              </span><span class=nt>&quot;understanding_confidence&quot;</span><span class=p>:</span><span class=w> </span><span class=mf>0.98532</span><span class=p>,</span><span class=w></span>
<span class=w>              </span><span class=nt>&quot;ddd&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;phone&quot;</span><span class=p>,</span><span class=w></span>
<span class=w>              </span><span class=nt>&quot;semantic_expression&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;answer(contact_john)&quot;</span><span class=w></span>
<span class=w>            </span><span class=p>}</span><span class=w></span>
<span class=w>          </span><span class=p>]</span><span class=w></span>
<span class=w>        </span><span class=p>},</span><span class=w></span>
<span class=w>        </span><span class=p>{</span><span class=w></span>
<span class=w>          </span><span class=nt>&quot;utterance&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;call him John&quot;</span><span class=p>,</span><span class=w></span>
<span class=w>          </span><span class=nt>&quot;modality&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;speech&quot;</span><span class=p>,</span><span class=w></span>
<span class=w>          </span><span class=nt>&quot;moves&quot;</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=w></span>
<span class=w>            </span><span class=p>{</span><span class=w></span>
<span class=w>              </span><span class=nt>&quot;perception_confidence&quot;</span><span class=p>:</span><span class=w> </span><span class=mf>0.31</span><span class=p>,</span><span class=w></span>
<span class=w>              </span><span class=nt>&quot;understanding_confidence&quot;</span><span class=p>:</span><span class=w> </span><span class=mf>0.2216</span><span class=p>,</span><span class=w></span>
<span class=w>              </span><span class=nt>&quot;ddd&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;phone&quot;</span><span class=p>,</span><span class=w></span>
<span class=w>              </span><span class=nt>&quot;semantic_expression&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;request(call)&quot;</span><span class=w></span>
<span class=w>            </span><span class=p>},</span><span class=w></span>
<span class=w>            </span><span class=p>{</span><span class=w></span>
<span class=w>              </span><span class=nt>&quot;perception_confidence&quot;</span><span class=p>:</span><span class=w> </span><span class=mf>0.31</span><span class=p>,</span><span class=w></span>
<span class=w>              </span><span class=nt>&quot;understanding_confidence&quot;</span><span class=p>:</span><span class=w> </span><span class=mf>0.98532</span><span class=p>,</span><span class=w></span>
<span class=w>              </span><span class=nt>&quot;ddd&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;phone&quot;</span><span class=p>,</span><span class=w></span>
<span class=w>              </span><span class=nt>&quot;semantic_expression&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;answer(contact_john)&quot;</span><span class=w></span>
<span class=w>            </span><span class=p>}</span><span class=w></span>
<span class=w>          </span><span class=p>]</span><span class=w></span>
<span class=w>        </span><span class=p>},</span><span class=w></span>
<span class=w>        </span><span class=p>{</span><span class=w></span>
<span class=w>          </span><span class=nt>&quot;utterance&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;call him John&quot;</span><span class=p>,</span><span class=w></span>
<span class=w>          </span><span class=nt>&quot;modality&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;speech&quot;</span><span class=p>,</span><span class=w></span>
<span class=w>          </span><span class=nt>&quot;moves&quot;</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=w></span>
<span class=w>            </span><span class=p>{</span><span class=w></span>
<span class=w>              </span><span class=nt>&quot;perception_confidence&quot;</span><span class=p>:</span><span class=w> </span><span class=mf>0.31</span><span class=p>,</span><span class=w></span>
<span class=w>              </span><span class=nt>&quot;understanding_confidence&quot;</span><span class=p>:</span><span class=w> </span><span class=mf>0.10126</span><span class=p>,</span><span class=w></span>
<span class=w>              </span><span class=nt>&quot;ddd&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;phone&quot;</span><span class=p>,</span><span class=w></span>
<span class=w>              </span><span class=nt>&quot;semantic_expression&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;ask(?X.phone_number(X))&quot;</span><span class=w></span>
<span class=w>            </span><span class=p>},</span><span class=w></span>
<span class=w>            </span><span class=p>{</span><span class=w></span>
<span class=w>              </span><span class=nt>&quot;perception_confidence&quot;</span><span class=p>:</span><span class=w> </span><span class=mf>0.31</span><span class=p>,</span><span class=w></span>
<span class=w>              </span><span class=nt>&quot;understanding_confidence&quot;</span><span class=p>:</span><span class=w> </span><span class=mf>0.98532</span><span class=p>,</span><span class=w></span>
<span class=w>              </span><span class=nt>&quot;ddd&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;phone&quot;</span><span class=p>,</span><span class=w></span>
<span class=w>              </span><span class=nt>&quot;semantic_expression&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;answer(contact_john)&quot;</span><span class=w></span>
<span class=w>            </span><span class=p>}</span><span class=w></span>
<span class=w>          </span><span class=p>]</span><span class=w></span>
<span class=w>        </span><span class=p>}</span><span class=w></span>
<span class=w>      </span><span class=p>],</span><span class=w></span>
<span class=w>      </span><span class=nt>&quot;entities&quot;</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=w></span>
<span class=w>        </span><span class=p>{</span><span class=w></span>
<span class=w>          </span><span class=nt>&quot;name&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;contact_john&quot;</span><span class=p>,</span><span class=w></span>
<span class=w>          </span><span class=nt>&quot;sort&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;contact&quot;</span><span class=p>,</span><span class=w></span>
<span class=w>          </span><span class=nt>&quot;natural_language_form&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;John&quot;</span><span class=p>,</span><span class=w></span>
<span class=w>          </span><span class=nt>&quot;ddd&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;phone&quot;</span><span class=w></span>
<span class=w>        </span><span class=p>}</span><span class=w></span>
<span class=w>      </span><span class=p>]</span><span class=w></span>
<span class=w>    </span><span class=p>}</span><span class=w></span>
<span class=w>  </span><span class=p>}</span><span class=w></span>
<span class=p>}</span><span class=w></span>
</code></pre></div> <p>The <code>session</code> object can contain frontend-specific session data to be used in dialog or by services. For more details, see <a href=#session-object>the session object</a>.</p> <ul> <li><code>interpretations</code>: A list of <a href=#interpretation-object>interpretation objects</a>. TDM will use confidence scores and the context of the current state of the session to decide which interpretation to act upon.</li> <li><code>entities</code>: (optional) A list of <a href=#entity-object>entity objects</a>. TDM can use these entities in interpretations and for natural language generation.</li> </ul> <p>See the <a href=../shared_objects/#semantic-input-object>semantic input object</a> for more details.</p> <p>The <code>semantic_input</code> request may be combined with the <code>start_session</code> request when a session does not yet exist, but may not be combined with other requests.</p> <p>Example:</p> <div class=highlight><pre><span></span><code><span class=p>{</span><span class=w></span>
<span class=w>  </span><span class=nt>&quot;version&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;3.4&quot;</span><span class=p>,</span><span class=w></span>
<span class=w>  </span><span class=nt>&quot;request&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=w></span>
<span class=w>    </span><span class=nt>&quot;start_session&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{},</span><span class=w></span>
<span class=w>    </span><span class=nt>&quot;semantic_input&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=err>...</span><span class=p>}</span><span class=w></span>
<span class=w>  </span><span class=p>}</span><span class=w></span>
<span class=p>}</span><span class=w></span>
</code></pre></div> <h3 id=response_2>Response<a class=headerlink href=#response_2 title="Permanent link">&para;</a></h3> <p>See <a href=#response-format>response format</a>.</p> <h2 id=passivity-requests>Passivity requests<a class=headerlink href=#passivity-requests title="Permanent link">&para;</a></h2> <p>When the client detects user passivity, it issues a request and receives output from TDM.</p> <h3 id=request_3>Request<a class=headerlink href=#request_3 title="Permanent link">&para;</a></h3> <p>Example:</p> <div class=highlight><pre><span></span><code><span class=p>{</span><span class=w></span>
<span class=w>  </span><span class=nt>&quot;version&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;3.4&quot;</span><span class=p>,</span><span class=w></span>
<span class=w>  </span><span class=nt>&quot;session&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=w></span>
<span class=w>    </span><span class=nt>&quot;session_id&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;0000-abcd-1111-efgh&quot;</span><span class=w></span>
<span class=w>  </span><span class=p>},</span><span class=w></span>
<span class=w>  </span><span class=nt>&quot;request&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=w></span>
<span class=w>    </span><span class=nt>&quot;passivity&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{}</span><span class=w></span>
<span class=w>  </span><span class=p>}</span><span class=w></span>
<span class=p>}</span><span class=w></span>
</code></pre></div> <p>The <code>session</code> object can contain frontend-specific session data to be used in dialog or by services. For more details, see <a href=#session-object>the session object</a>.</p> <p>The <code>passivity</code> request may not be combined with other requests in the same call.</p> <h3 id=response_3>Response<a class=headerlink href=#response_3 title="Permanent link">&para;</a></h3> <p>See <a href=#response-format>response format</a>.</p> <h2 id=event-requests>Event requests<a class=headerlink href=#event-requests title="Permanent link">&para;</a></h2> <p>When the client detects that an event pertaining to a relevant DDD has occurred, it should issue an event notification request, and receives output from TDM.</p> <h3 id=request_4>Request<a class=headerlink href=#request_4 title="Permanent link">&para;</a></h3> <p>Example:</p> <div class=highlight><pre><span></span><code><span class=p>{</span><span class=w></span>
<span class=w>  </span><span class=nt>&quot;version&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;3.4&quot;</span><span class=p>,</span><span class=w></span>
<span class=w>  </span><span class=nt>&quot;session&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=w></span>
<span class=w>    </span><span class=nt>&quot;session_id&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;0000-abcd-1111-efgh&quot;</span><span class=w></span>
<span class=w>  </span><span class=p>},</span><span class=w></span>
<span class=w>  </span><span class=nt>&quot;request&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=w></span>
<span class=w>    </span><span class=nt>&quot;event&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=w></span>
<span class=w>      </span><span class=nt>&quot;name&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;IncomingCall&quot;</span><span class=p>,</span><span class=w></span>
<span class=w>      </span><span class=nt>&quot;status&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;started&quot;</span><span class=p>,</span><span class=w></span>
<span class=w>      </span><span class=nt>&quot;parameters&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=w></span>
<span class=w>        </span><span class=nt>&quot;caller&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;contact_12345&quot;</span><span class=w></span>
<span class=w>      </span><span class=p>}</span><span class=w></span>
<span class=w>    </span><span class=p>}</span><span class=w></span>
<span class=w>  </span><span class=p>}</span><span class=w></span>
<span class=p>}</span><span class=w></span>
</code></pre></div> <p>The <code>session</code> object can contain frontend-specific session data to be used in dialog or by services. For more details, see <a href=#session-object>the session object</a>.</p> <p>The <code>event</code> object contains the following members:</p> <ul> <li><code>name</code>: A string corresponding to the name of the event, specified as an action in the service interface.</li> <li><code>status</code>: Either <code>started</code> or <code>ended</code>.</li> <li><code>parameters</code>: A map of key-value pairs pertaining to the event, corresponding to the parameters specified for the action in the service interface. The key is a string matching the parameter's predicate, and the value is a string containing the ID of the value (e.g. a number or a string depending on the sort).</li> </ul> <p>The <code>event</code> request may be combined with the <code>start_session</code> request when a session does not yet exist, but may not be combined with other requests.</p> <p>Example:</p> <div class=highlight><pre><span></span><code><span class=p>{</span><span class=w></span>
<span class=w>  </span><span class=nt>&quot;version&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;3.4&quot;</span><span class=p>,</span><span class=w></span>
<span class=w>  </span><span class=nt>&quot;request&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=w></span>
<span class=w>    </span><span class=nt>&quot;start_session&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{},</span><span class=w></span>
<span class=w>    </span><span class=nt>&quot;event&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=err>...</span><span class=p>}</span><span class=w></span>
<span class=w>  </span><span class=p>}</span><span class=w></span>
<span class=p>}</span><span class=w></span>
</code></pre></div> <h3 id=response_4>Response<a class=headerlink href=#response_4 title="Permanent link">&para;</a></h3> <p>See <a href=#response-format>response format</a>.</p> <h2 id=response-format>Response format<a class=headerlink href=#response-format title="Permanent link">&para;</a></h2> <p>The response format differs when the request was successful compared to when it encountered an error.</p> <h3 id=successful-request>Successful request<a class=headerlink href=#successful-request title="Permanent link">&para;</a></h3> <p>The TDM response from a successful request typically contains an output utterance and other relevant information. Example:</p> <div class=highlight><pre><span></span><code><span class=p>{</span><span class=w></span>
<span class=w>  </span><span class=nt>&quot;version&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;3.4&quot;</span><span class=p>,</span><span class=w></span>
<span class=w>  </span><span class=nt>&quot;session&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=w></span>
<span class=w>    </span><span class=nt>&quot;session_id&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;0000-abcd-1111-efgh&quot;</span><span class=w></span>
<span class=w>  </span><span class=p>},</span><span class=w></span>
<span class=w>  </span><span class=nt>&quot;output&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=w></span>
<span class=w>    </span><span class=nt>&quot;moves&quot;</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=s2>&quot;ask(?X.selected_contact(X))&quot;</span><span class=p>],</span><span class=w></span>
<span class=w>    </span><span class=nt>&quot;utterance&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;Who do you want to call?&quot;</span><span class=p>,</span><span class=w></span>
<span class=w>    </span><span class=nt>&quot;expected_passivity&quot;</span><span class=p>:</span><span class=w> </span><span class=mf>5.0</span><span class=p>,</span><span class=w></span>
<span class=w>    </span><span class=nt>&quot;actions&quot;</span><span class=p>:</span><span class=w> </span><span class=p>[]</span><span class=w></span>
<span class=w>  </span><span class=p>},</span><span class=w></span>
<span class=w>  </span><span class=nt>&quot;nlu_result&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=w></span>
<span class=w>    </span><span class=nt>&quot;selected_utterance&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;call John&quot;</span><span class=p>,</span><span class=w></span>
<span class=w>    </span><span class=nt>&quot;confidence&quot;</span><span class=p>:</span><span class=w> </span><span class=mf>0.88</span><span class=w></span>
<span class=w>  </span><span class=p>},</span><span class=w></span>
<span class=w>  </span><span class=nt>&quot;context&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=w></span>
<span class=w>    </span><span class=nt>&quot;active_ddd&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;my_ddd&quot;</span><span class=p>,</span><span class=w></span>
<span class=w>    </span><span class=nt>&quot;available_ddds&quot;</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=s2>&quot;my_ddd&quot;</span><span class=p>,</span><span class=w> </span><span class=s2>&quot;another_ddd&quot;</span><span class=p>],</span><span class=w></span>
<span class=w>    </span><span class=nt>&quot;facts&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{},</span><span class=w></span>
<span class=w>    </span><span class=nt>&quot;language&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;eng&quot;</span><span class=p>,</span><span class=w></span>
<span class=w>    </span><span class=nt>&quot;goal&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;perform(call)&quot;</span><span class=p>,</span><span class=w></span>
<span class=w>    </span><span class=nt>&quot;plan&quot;</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=s2>&quot;findout(?X.selected_contact(X))&quot;</span><span class=p>],</span><span class=w></span>
<span class=w>    </span><span class=nt>&quot;facts_being_grounded&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{},</span><span class=w></span>
<span class=w>    </span><span class=nt>&quot;selected_hypothesis&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=w></span>
<span class=w>      </span><span class=nt>&quot;utterance&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;call John&quot;</span><span class=p>,</span><span class=w></span>
<span class=w>      </span><span class=nt>&quot;confidence&quot;</span><span class=p>:</span><span class=w> </span><span class=mf>0.88</span><span class=w></span>
<span class=w>    </span><span class=p>},</span><span class=w></span>
<span class=w>    </span><span class=nt>&quot;selected_interpretation&quot;</span><span class=p>:</span><span class=w> </span><span class=p>[{</span><span class=w></span>
<span class=w>      </span><span class=nt>&quot;ddd&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;send_to_frontend&quot;</span><span class=p>,</span><span class=w></span>
<span class=w>      </span><span class=nt>&quot;understanding_confidence&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;0.749&quot;</span><span class=p>,</span><span class=w></span>
<span class=w>      </span><span class=nt>&quot;perception_confidence&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;0.88&quot;</span><span class=p>,</span><span class=w></span>
<span class=w>      </span><span class=nt>&quot;semantic_expression&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;request(call)&quot;</span><span class=w></span>
<span class=w>    </span><span class=p>}],</span><span class=w></span>
<span class=w>    </span><span class=nt>&quot;expected_input&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=w></span>
<span class=w>      </span><span class=nt>&quot;alternatives&quot;</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=w></span>
<span class=w>        </span><span class=p>{</span><span class=nt>&quot;semantic_expression&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;answer(contact_john)&quot;</span><span class=p>},</span><span class=w></span>
<span class=w>        </span><span class=p>{</span><span class=nt>&quot;semantic_expression&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;answer(contact_lisa)&quot;</span><span class=p>}</span><span class=w></span>
<span class=w>      </span><span class=p>]</span><span class=w></span>
<span class=w>    </span><span class=p>}</span><span class=w></span>
<span class=w>  </span><span class=p>}</span><span class=w></span>
<span class=p>}</span><span class=w></span>
</code></pre></div> <p>The <code>session</code> object is always provided and contains the same data that was provided in the request. Unlike requests however, it always contains:</p> <ul> <li><code>session_id</code>: The ID of the current session.</li> </ul> <p>The <code>output</code> object is provided unless an error has occurred and has the following members:</p> <ul> <li><code>moves</code>: The moves made by the system this turn. This is a list of <a href=../../formalism/#moves>move expressions in the dialog formalism</a>, where the moves should be uttered in the listed order. Moves here are similar to the <code>semantic_expression</code> field of <a href=#nlu-move-object>move objects</a>.</li> <li><code>utterance</code>: A string representing the output utterance from the system and should be realized by the client (e.g. by speaking it or displaying it as text).</li> <li><code>expected_passivity</code>: If not null, the value is a number corresponding to the number of seconds of user passivity after which the client is expected to make a <a href=#passivity-requests>passivity request</a>. If the value is 0.0, the passivity notification request should be issued immediately after having realized the system output.</li> <li><code>actions</code>: A list of <a href=#action-invocation-object>action invocation objects</a>, which needs to be invoked by the client. TDM assumes that the actions will succeed and reports them accordingly.</li> </ul> <p>The <code>nlu_result</code> object is provided for <a href=#natural-language-input-requests>natural language input requests</a>, unless an error has occurred. It has the following members:</p> <ul> <li><code>selected_utterance</code>: The utterance selected as the best candidate among the list of hypotheses.</li> <li><code>confidence</code>: A number representing the joint confidence of the input and the NLU processing.</li> </ul> <p>The <code>context</code> object is provided unless an error has occurred and contains the following members:</p> <ul> <li><code>active_ddd</code>: The name of the currently active DDD.</li> <li><code>available_ddds</code>: The DDDs available in the current DDD set.</li> <li><code>facts</code>: Information gathered during the conversation (see <a href=#facts-object>facts object</a>).</li> <li><code>language</code>: ID of the current language.</li> <li><code>goal</code>: Currently active goal, expressed as a <a href=../../formalism/#goals>goal in the dialog formalism</a>.</li> <li><code>plan</code>: Remaining items on the current plan, represented by a list of <a href=../../formalism/#plan-items>plan items in the dialog formalism</a>.</li> <li><code>facts_being_grounded</code>: Information that the system is currently grounding with the user, represented as a list of <a href=#facts-object>facts objects</a>.</li> <li><code>selected_hypothesis</code>: The natural language hypothesis that the system decided to act on. If the system turn was requested with a <a href=#natural-language-input-requests>natural language input request</a>, this corresponds to one of the <a href=../shared_objects/#hypothesis-object>hypothesis objects</a> that were part of it. This field is <code>null</code> if a hypothesis could not be determined.</li> <li><code>selected_interpretation</code>: The semantic interpretation that the system decided to act on. If the system turn was requested with a <a href=#semantic-input-requests>semantic input request</a>, this corresponds to one of the <a href=../shared_objects/#interpretation-object>interpretation objects</a> that were part of it. This field is <code>null</code> if an interpretation could not be determined.</li> <li><code>expected_input</code>: An <a href=#expected-input-object>expected input object</a>, containing alternatives that TDM considers expected by the user the next turn. This field is <code>null</code> if TDM does not expect input, or if it doesn't know what input to expect.</li> </ul> <p>A <code>warnings</code> field is provided if warnings have been issued, as a list of strings, one string per warning. This can for instance happen when TDM is updated to a new version of this frontend API and the previous version is deprecated. In such cases, update your request formats to comply with the warning and avoid potential future errors:</p> <h3 id=request-that-encountered-an-error><a name=error-response></a>Request that encountered an error<a class=headerlink href=#request-that-encountered-an-error title="Permanent link">&para;</a></h3> <p>The TDM response when an error was encountered in the request contains an error description.</p> <div class=highlight><pre><span></span><code><span class=p>{</span><span class=w></span>
<span class=w>  </span><span class=nt>&quot;version&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;3.4&quot;</span><span class=p>,</span><span class=w></span>
<span class=w>  </span><span class=nt>&quot;session&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=w></span>
<span class=w>    </span><span class=nt>&quot;session_id&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;0000-abcd-1111-efgh&quot;</span><span class=w></span>
<span class=w>  </span><span class=p>},</span><span class=w></span>
<span class=w>  </span><span class=nt>&quot;error&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=w></span>
<span class=w>    </span><span class=nt>&quot;description&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;An exception was encountered when processing the request&quot;</span><span class=w></span>
<span class=w>  </span><span class=p>}</span><span class=w></span>
<span class=p>}</span><span class=w></span>
</code></pre></div> <p>An <code>error</code> object is provided if an error has occurred. In such cases, an error should be reported to the user by the client, and the session should not be resumed with further requests. The <code>error</code> field has the following members:</p> <ul> <li><code>description</code>: A human readable technical description of the error.</li> </ul> <h2 id=session-object>Session object<a class=headerlink href=#session-object title="Permanent link">&para;</a></h2> <p>A session object can contain frontend-specific session data. The data is forwarded as is to all service calls on the <a href=../service_api/#session-object>HTTP API for services</a>. That way, the data can be used in service calls directly; or influence the dialog, for instance by being retrieved through service queries. Note that session data is not automatically stored or attached to the session within TDM. It is returned in the <a href=#response-format>response</a> and can be injected in future requests. If specific data should be available to all service calls on a session, the data needs to be injected in every request on that session, or the DDD needs to retrieve it into the dialog state, for instance by a service query. For all requests except <a href=./#start-session-requests>start session</a>, a <code>session_id</code> is required and used to identify to which session the request is being made. For start session requests however, the <code>session_id</code> is disallowed and instead generated by TDM. It should be retrieved from the <a href=#response-format>response</a>.</p> <p>Example for start session request:</p> <div class=highlight><pre><span></span><code><span class=p>{</span><span class=w></span>
<span class=w>  </span><span class=nt>&quot;session&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=w></span>
<span class=w>    </span><span class=nt>&quot;my_frontend&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=w></span>
<span class=w>      </span><span class=nt>&quot;user_id&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;123-abc-456-def&quot;</span><span class=p>,</span><span class=w></span>
<span class=w>      </span><span class=nt>&quot;position&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=w></span>
<span class=w>        </span><span class=nt>&quot;latitude&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;57.699188&quot;</span><span class=p>,</span><span class=w></span>
<span class=w>        </span><span class=nt>&quot;longitude&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;11.948313&quot;</span><span class=w></span>
<span class=w>      </span><span class=p>}</span><span class=w></span>
<span class=w>    </span><span class=p>}</span><span class=w></span>
<span class=w>  </span><span class=p>}</span><span class=w></span>
<span class=p>}</span><span class=w></span>
</code></pre></div> <p>Example otherwise:</p> <div class=highlight><pre><span></span><code><span class=p>{</span><span class=w></span>
<span class=w>  </span><span class=nt>&quot;session&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=w></span>
<span class=w>    </span><span class=nt>&quot;session_id&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;0000-abcd-1111-efgh&quot;</span><span class=p>,</span><span class=w></span>
<span class=w>    </span><span class=nt>&quot;my_frontend&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=w></span>
<span class=w>      </span><span class=nt>&quot;user_id&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;123-abc-456-def&quot;</span><span class=p>,</span><span class=w></span>
<span class=w>      </span><span class=nt>&quot;position&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=w></span>
<span class=w>        </span><span class=nt>&quot;latitude&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;57.699188&quot;</span><span class=p>,</span><span class=w></span>
<span class=w>        </span><span class=nt>&quot;longitude&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;11.948313&quot;</span><span class=w></span>
<span class=w>      </span><span class=p>}</span><span class=w></span>
<span class=w>    </span><span class=p>}</span><span class=w></span>
<span class=w>  </span><span class=p>}</span><span class=w></span>
<span class=p>}</span><span class=w></span>
</code></pre></div> <h2 id=output-object>Output object<a class=headerlink href=#output-object title="Permanent link">&para;</a></h2> <p>The <code>output</code> object contains the following members:</p> <ul> <li><code>moves</code>: The moves made by the system this turn. This is a list of <a href=../../formalism/#moves>move expressions in the dialog formalism</a>. Moves here are similar to the <code>semantic_expression</code> field of <a href=#nlu-move-object>move objects</a>.</li> <li><code>utterance</code>: A string representing the output utterance from the system and should be realized by the client (e.g. by speaking it or displaying it as text).</li> <li><code>expected_passivity</code>: If not null, the value is a number corresponding to the number of seconds of user passivity after which the client is expected to make a <a href=#passivity-requests>passivity request</a>. If the value is 0.0, the passivity notification request should be issued immediately after having realized the system output.</li> <li><code>actions</code>: A list of <a href=action-invocation-object>action invocation objects</a>, which needs to be invoked by the client. TDM assumes that the actions will succeed and reports them accordingly.</li> </ul> <h2 id=nlu-results-object>NLU results object<a class=headerlink href=#nlu-results-object title="Permanent link">&para;</a></h2> <p>The <code>nlu_result</code> object contains the following members:</p> <ul> <li><code>selected_utterance</code>: The utterance selected as the best candidate amoung the list of natural language input hypotheses.</li> <li><code>confidence</code>: A number representing the joint confidence of the input and the NLU processing.</li> </ul> <h2 id=context-object>Context object<a class=headerlink href=#context-object title="Permanent link">&para;</a></h2> <p>The <code>context</code> object contains the following members:</p> <ul> <li><code>active_ddd</code>: The name of the currently active DDD.</li> <li><code>facts</code>: Information gathered during the conversation (see <a href=facts-object>facts object</a>).</li> <li><code>language</code>: ID of the current language.</li> <li><code>goal</code>: Currently active goal, expressed as a <a href=../../formalism/#goal-propositions>goal proposition in the dialog formalism</a>.</li> <li><code>plan</code>: Remaining items on the current plan, represented by a list of <a href=../../formalism/#plan-items>plan items in the dialog formalism</a>.</li> <li><code>facts_being_grounded</code>: Information that the system is currently grounding with the user, represented as a list of <a href=facts-object>facts objects</a>.</li> <li><code>selected_hypothesis</code>: The natural language hypothesis that the system decided to act on. If the system turn was requested with a <a href=#natural-language-input-requests>natural language input request</a>, this corresponds to one of the <a href=../shared_objects/#hypothesis-object>hypothesis objects</a> that were part of it. This field is <code>null</code> if a hypothesis could not be determined.</li> <li><code>selected_interpretation</code>: The semantic interpretation that the system decided to act on. If the system turn was requested with a <a href=#semantic-input-requests>semantic input request</a>, this corresponds to one of the <a href=../shared_objects/#interpretation-object>interpretation objects</a> that were part of it. This field is <code>null</code> if an interpretation could not be determined.</li> <li><code>expected_input</code>: An <a href=expected-input-object>expected input object</a>, containing alternatives that TDM considers expected by the user the next turn. This field is <code>null</code> if TDM does not expect input, or if it doesn't know what input to expect.</li> </ul> <h2 id=action-invocation-object>Action invocation object<a class=headerlink href=#action-invocation-object title="Permanent link">&para;</a></h2> <p>An action invocation object contains information about an action to be invoked by the client. The object has the following members:</p> <ul> <li><code>name</code> is a string corresponding to the action's name in <code>service_interface.xml</code>.</li> <li><code>parameters</code> contains values for all parameters that are specified for the method in <code>service_interface.xml</code>. If a parameter is unknown, its value is <code>null</code>. Otherwise it's an object containing:<ul> <li><code>sort</code>: ID of the predicate's sort as defined in the ontology.</li> <li><code>value</code>: ID of the value. For the sorts <code>integer</code> and <code>real</code>, the ID is a number. For other sorts, e.g. <code>string</code>, <code>datetime</code> and custom sorts, the ID is a string.</li> <li><code>grammar_entry</code>: Natural-language representation of the value.</li> </ul> </li> </ul> <p>Example:</p> <div class=highlight><pre><span></span><code><span class=p>{</span><span class=w></span>
<span class=w>  </span><span class=nt>&quot;name&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;call&quot;</span><span class=p>,</span><span class=w></span>
<span class=w>  </span><span class=nt>&quot;parameters&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=w></span>
<span class=w>    </span><span class=nt>&quot;selected_contact&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=w></span>
<span class=w>      </span><span class=nt>&quot;sort&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;contact&quot;</span><span class=p>,</span><span class=w></span>
<span class=w>      </span><span class=nt>&quot;value&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;contact_john&quot;</span><span class=p>,</span><span class=w></span>
<span class=w>      </span><span class=nt>&quot;grammar_entry&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;John&quot;</span><span class=w></span>
<span class=w>    </span><span class=p>}</span><span class=w></span>
<span class=w>  </span><span class=p>}</span><span class=w></span>
<span class=p>}</span><span class=w></span>
</code></pre></div> <h2 id=facts-object>Facts object<a class=headerlink href=#facts-object title="Permanent link">&para;</a></h2> <p>The <code>facts</code> field contains a map of key-value pairs for information gathered during the conversation, e.g. from the user. The map may be empty.</p> <p>The key is a string matching a predicate as defined in the ontology. The value is an object with the following members:</p> <ul> <li><code>sort</code>: ID of the predicate's sort as defined in the ontology.</li> <li><code>value</code>: ID of the value (e.g. a number or a string depending on the sort). For predicates of sort <code>datetime</code>, the ID is an ISO 8601 string.</li> <li><code>grammar_entry</code>: Natural-language representation of the value.</li> </ul> <p>Example:</p> <div class=highlight><pre><span></span><code><span class=p>{</span><span class=w></span>
<span class=w>  </span><span class=nt>&quot;facts&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=w></span>
<span class=w>    </span><span class=nt>&quot;departure&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=w></span>
<span class=w>      </span><span class=nt>&quot;sort&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;city&quot;</span><span class=p>,</span><span class=w></span>
<span class=w>      </span><span class=nt>&quot;value&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;city_012345&quot;</span><span class=p>,</span><span class=w></span>
<span class=w>      </span><span class=nt>&quot;grammar_entry&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;London&quot;</span><span class=w></span>
<span class=w>    </span><span class=p>},</span><span class=w></span>
<span class=w>    </span><span class=nt>&quot;destination&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=w></span>
<span class=w>      </span><span class=nt>&quot;sort&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;city&quot;</span><span class=p>,</span><span class=w></span>
<span class=w>      </span><span class=nt>&quot;value&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;city_012346&quot;</span><span class=p>,</span><span class=w></span>
<span class=w>      </span><span class=nt>&quot;grammar_entry&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;Newcastle&quot;</span><span class=w></span>
<span class=w>    </span><span class=p>}</span><span class=w></span>
<span class=w>  </span><span class=p>}</span><span class=w></span>
<span class=p>}</span><span class=w></span>
</code></pre></div> <h2 id=expected-input-object>Expected input object<a class=headerlink href=#expected-input-object title="Permanent link">&para;</a></h2> <p>The expected input object contains alternatives that TDM considers expected by the user the next turn. They can for instance be used to add quick-answer buttons to a GUI or chat client.</p> <p>The object has the following members:</p> <ul> <li><code>alternatives</code>: A list of <a href=#alternative-object>alternative objects</a>.</li> </ul> <p>If TDM asks a <a href=../../formalism/#yn-questions>yes-no question</a>, it expects the yes or no <a href=../../formalism/#answer-moves>answer</a>:</p> <div class=highlight><pre><span></span><code><span class=p>{</span><span class=w></span>
<span class=w>  </span><span class=nt>&quot;alternatives&quot;</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=w></span>
<span class=w>    </span><span class=p>{</span><span class=nt>&quot;semantic_expression&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;answer(yes)&quot;</span><span class=p>},</span><span class=w></span>
<span class=w>    </span><span class=p>{</span><span class=nt>&quot;semantic_expression&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;answer(no)&quot;</span><span class=p>}</span><span class=w></span>
<span class=w>  </span><span class=p>]</span><span class=w></span>
<span class=p>}</span><span class=w></span>
</code></pre></div> <p>If TDM asks an <a href=../../formalism/#alt-questions>alternative question</a> or a <a href=../../formalism/#wh-questions>wh-question</a> where the alternatives are known, the expected input object either contains <a href=../../formalism/#answer-moves>answer moves</a> with <a href=../../formalism/#unary-propositions>unary propositions</a>:</p> <div class=highlight><pre><span></span><code><span class=p>{</span><span class=w></span>
<span class=w>  </span><span class=nt>&quot;alternatives&quot;</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=w></span>
<span class=w>    </span><span class=p>{</span><span class=nt>&quot;semantic_expression&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;answer(selected_contact(contact_john))&quot;</span><span class=p>},</span><span class=w></span>
<span class=w>    </span><span class=p>{</span><span class=nt>&quot;semantic_expression&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;answer(selected_contact(contact_lisa))&quot;</span><span class=p>}</span><span class=w></span>
<span class=w>  </span><span class=p>]</span><span class=w></span>
<span class=p>}</span><span class=w></span>
</code></pre></div> <p>... or <a href=../../formalism/#request-moves>request</a> and <a href=../../formalism/#ask-moves>ask moves</a>:</p> <div class=highlight><pre><span></span><code><span class=p>{</span><span class=w></span>
<span class=w>  </span><span class=nt>&quot;alternatives&quot;</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=w></span>
<span class=w>    </span><span class=p>{</span><span class=nt>&quot;semantic_expression&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;request(call)&quot;</span><span class=p>},</span><span class=w></span>
<span class=w>    </span><span class=p>{</span><span class=nt>&quot;semantic_expression&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;ask(?X.phone_number(X))&quot;</span><span class=p>}</span><span class=w></span>
<span class=w>  </span><span class=p>]</span><span class=w></span>
<span class=p>}</span><span class=w></span>
</code></pre></div> <h2 id=alternative-object>Alternative object<a class=headerlink href=#alternative-object title="Permanent link">&para;</a></h2> <p>An alternative object contains information about the moves that the user is expected to take the next turn. It contains the following members:</p> <ul> <li><code>semantic_expression</code>: A semantic expression of the expected move, expressed in the <a href=../../formalism/#moves>dialog formalism</a>.</li> </ul> <hr> <div class=md-source-date> <small> Last update: January 11, 2022 </small> </div> </article> </div> </div> </main> <footer class=md-footer> <div class=md-footer-nav> <nav class="md-footer-nav__inner md-grid" aria-label=Footer> <a href=../../for-dialog-designers/rasa_nlu/ title="Using Rasa NLU" class="md-footer-nav__link md-footer-nav__link--prev" rel=prev> <div class="md-footer-nav__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </div> <div class=md-footer-nav__title> <div class=md-ellipsis> <span class=md-footer-nav__direction> Previous </span> Using Rasa NLU </div> </div> </a> <a href=../service_api/ title="Service API" class="md-footer-nav__link md-footer-nav__link--next" rel=next> <div class=md-footer-nav__title> <div class=md-ellipsis> <span class=md-footer-nav__direction> Next </span> Service API </div> </div> <div class="md-footer-nav__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg> </div> </a> </nav> </div> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-footer-copyright> <div class=md-footer-copyright__highlight> Copyright &copy; 2008 - 2020 Talkamatic </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> </div> </div> </footer> </div> <script src=../../assets/javascripts/vendor.d710d30a.min.js></script> <script src=../../assets/javascripts/bundle.5f27aba8.min.js></script><script id=__lang type=application/json>{"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching"}</script> <script>
        app = initialize({
          base: "../..",
          features: ["tabs"],
          search: Object.assign({
            worker: "../../assets/javascripts/worker/search.27c6a5e6.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script> </body> </html>