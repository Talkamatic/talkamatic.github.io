<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Talkamatic Dialog Manager (TDM) is based on 100 years of research on human dialog. Explore how it can be used to empower natural conversations in chatbots, telephony systems, and any other kinds of dialog systems today."><meta name=author content="Team Talkamatic"><link href=https://talkamatic.github.io/api-definitions/pipeline_api/ rel=canonical><link href=../../for-dialog-designers/rasa_nlu/ rel=prev><link href=../service_api/ rel=next><link rel=icon href=../../favicon.png><meta name=generator content="mkdocs-1.5.3, mkdocs-material-9.5.18"><title>Pipeline API - Talkamatic Docs</title><link rel=stylesheet href=../../assets/stylesheets/main.66ac8b77.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../../stylesheets/extra.css><script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#pipeline-api class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class="md-header md-header--shadow" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../.. title="Talkamatic Docs" class="md-header__button md-logo" aria-label="Talkamatic Docs" data-md-component=logo> <?xml version="1.0" encoding="UTF-8"?> <svg width=1920px height=1920px viewbox="0 0 1920 1920" xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink version=1.1> <!-- Generated by Pixelmator Pro 1.6.4 --> <path id=Shape-2 fill=#e21e3c fill-opacity=1 stroke=#ffffff stroke-width=100 stroke-opacity=1 stroke-linejoin=round d="M760 336 L1322 336 C1429.495 337.679 1520.853 384.245 1562 476 1584.25 520.92 1708.456 766.466 1727 801 1783.351 905.942 1784.834 984.772 1726 1055 1683.376 1105.878 1358 1475 1358 1475 1319.832 1513.168 1234.848 1585 1112 1585 L535 1585 C463.904 1585 363.962 1530.766 333 1468 333 1468 168.917 1153.192 140 1099 95.245 1015.126 96.22 941.563 158 859 183.378 825.084 526 439 526 439 572.176 388.313 686.281 337.395 760 336 Z"/> <path id=Shape fill=#fcffff fill-opacity=1 stroke=none d="M585.999 1369 C555.873 1368 547.999 1353.762 551.999 1326 L583.999 1137 C589.14 1102.736 599.368 1084.285 631.999 1083 L848.999 1083 C881.63 1084.285 880.426 1110.021 873.999 1143 L839.999 1323 C833.572 1355.979 817.393 1369 787.333 1369 L585.999 1369 Z M912.999 1369 C882.873 1368 874.999 1353.762 878.999 1326 L910.999 1137 C916.141 1102.736 926.368 1084.285 958.999 1083 L1175.999 1083 C1208.63 1084.285 1207.426 1110.021 1200.999 1143 L1166.999 1323 C1160.572 1355.979 1144.393 1369 1114.333 1369 L912.999 1369 Z M529.999 896 C499.873 895 491.999 880.762 495.999 853 L527.999 664 C533.14 629.736 543.368 611.285 575.999 610 L792.999 610 C825.63 611.285 824.426 637.021 817.999 670 L783.999 850 C777.572 882.979 761.393 896 731.333 896 L529.999 896 Z M856.999 896 C826.873 895 818.999 880.762 822.999 853 L854.999 664 C860.141 629.736 870.368 611.285 902.999 610 L1119.999 610 C1152.63 611.285 1151.426 637.021 1144.999 670 L1110.999 850 C1104.572 882.979 1088.393 896 1058.333 896 L856.999 896 Z M1183.999 896 C1153.873 895 1145.999 880.762 1149.999 853 L1181.999 664 C1187.14 629.736 1197.368 611.285 1229.999 610 L1446.999 610 C1479.63 611.285 1478.426 637.021 1471.999 670 L1437.999 850 C1431.572 882.979 1415.393 896 1385.333 896 L1183.999 896 Z"/> </svg> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Talkamatic Docs </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Pipeline API </span> </div> </div> </div> <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> </nav> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../.. title="Talkamatic Docs" class="md-nav__button md-logo" aria-label="Talkamatic Docs" data-md-component=logo> <?xml version="1.0" encoding="UTF-8"?> <svg width=1920px height=1920px viewbox="0 0 1920 1920" xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink version=1.1> <!-- Generated by Pixelmator Pro 1.6.4 --> <path id=Shape-2 fill=#e21e3c fill-opacity=1 stroke=#ffffff stroke-width=100 stroke-opacity=1 stroke-linejoin=round d="M760 336 L1322 336 C1429.495 337.679 1520.853 384.245 1562 476 1584.25 520.92 1708.456 766.466 1727 801 1783.351 905.942 1784.834 984.772 1726 1055 1683.376 1105.878 1358 1475 1358 1475 1319.832 1513.168 1234.848 1585 1112 1585 L535 1585 C463.904 1585 363.962 1530.766 333 1468 333 1468 168.917 1153.192 140 1099 95.245 1015.126 96.22 941.563 158 859 183.378 825.084 526 439 526 439 572.176 388.313 686.281 337.395 760 336 Z"/> <path id=Shape fill=#fcffff fill-opacity=1 stroke=none d="M585.999 1369 C555.873 1368 547.999 1353.762 551.999 1326 L583.999 1137 C589.14 1102.736 599.368 1084.285 631.999 1083 L848.999 1083 C881.63 1084.285 880.426 1110.021 873.999 1143 L839.999 1323 C833.572 1355.979 817.393 1369 787.333 1369 L585.999 1369 Z M912.999 1369 C882.873 1368 874.999 1353.762 878.999 1326 L910.999 1137 C916.141 1102.736 926.368 1084.285 958.999 1083 L1175.999 1083 C1208.63 1084.285 1207.426 1110.021 1200.999 1143 L1166.999 1323 C1160.572 1355.979 1144.393 1369 1114.333 1369 L912.999 1369 Z M529.999 896 C499.873 895 491.999 880.762 495.999 853 L527.999 664 C533.14 629.736 543.368 611.285 575.999 610 L792.999 610 C825.63 611.285 824.426 637.021 817.999 670 L783.999 850 C777.572 882.979 761.393 896 731.333 896 L529.999 896 Z M856.999 896 C826.873 895 818.999 880.762 822.999 853 L854.999 664 C860.141 629.736 870.368 611.285 902.999 610 L1119.999 610 C1152.63 611.285 1151.426 637.021 1144.999 670 L1110.999 850 C1104.572 882.979 1088.393 896 1058.333 896 L856.999 896 Z M1183.999 896 C1153.873 895 1145.999 880.762 1149.999 853 L1181.999 664 C1187.14 629.736 1197.368 611.285 1229.999 610 L1446.999 610 C1479.63 611.285 1478.426 637.021 1471.999 670 L1437.999 850 C1431.572 882.979 1415.393 896 1385.333 896 L1183.999 896 Z"/> </svg> </a> Talkamatic Docs </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../.. class=md-nav__link> <span class=md-ellipsis> Getting started </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2> <label class=md-nav__link for=__nav_2 id=__nav_2_label tabindex=0> <span class=md-ellipsis> The foundation </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> The foundation </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../ibdm/ class=md-nav__link> <span class=md-ellipsis> Issue-based Dialogue Management </span> </a> </li> <li class=md-nav__item> <a href=../../formalism/ class=md-nav__link> <span class=md-ellipsis> Dialog formalism </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3> <label class=md-nav__link for=__nav_3 id=__nav_3_label tabindex=0> <span class=md-ellipsis> For dialog designers </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> For dialog designers </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../for-dialog-designers/ class=md-nav__link> <span class=md-ellipsis> Introduction </span> </a> </li> <li class=md-nav__item> <a href=../../for-dialog-designers/tutorial/ class=md-nav__link> <span class=md-ellipsis> Step-by-step tutorial </span> </a> </li> <li class=md-nav__item> <a href=../../for-dialog-designers/examples/ class=md-nav__link> <span class=md-ellipsis> Examples </span> </a> </li> <li class=md-nav__item> <a href=../../for-dialog-designers/rasa_nlu/ class=md-nav__link> <span class=md-ellipsis> Using Rasa NLU </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4 checked> <label class=md-nav__link for=__nav_4 id=__nav_4_label tabindex=0> <span class=md-ellipsis> API definitions </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_4_label aria-expanded=true> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> API definitions </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> Pipeline API </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> Pipeline API </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#important-concepts class=md-nav__link> <span class=md-ellipsis> Important concepts </span> </a> <nav class=md-nav aria-label="Important concepts"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#requests-and-responses class=md-nav__link> <span class=md-ellipsis> Requests and responses </span> </a> </li> <li class=md-nav__item> <a href=#turn-taking class=md-nav__link> <span class=md-ellipsis> Turn taking </span> </a> </li> <li class=md-nav__item> <a href=#errors class=md-nav__link> <span class=md-ellipsis> Errors </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#start-session-requests class=md-nav__link> <span class=md-ellipsis> Start session requests </span> </a> <nav class=md-nav aria-label="Start session requests"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#request class=md-nav__link> <span class=md-ellipsis> Request </span> </a> </li> <li class=md-nav__item> <a href=#response class=md-nav__link> <span class=md-ellipsis> Response </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#natural-language-input-requests class=md-nav__link> <span class=md-ellipsis> Natural language input requests </span> </a> <nav class=md-nav aria-label="Natural language input requests"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#request_1 class=md-nav__link> <span class=md-ellipsis> Request </span> </a> </li> <li class=md-nav__item> <a href=#response_1 class=md-nav__link> <span class=md-ellipsis> Response </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#semantic-input-requests class=md-nav__link> <span class=md-ellipsis> Semantic input requests </span> </a> <nav class=md-nav aria-label="Semantic input requests"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#request_2 class=md-nav__link> <span class=md-ellipsis> Request </span> </a> </li> <li class=md-nav__item> <a href=#response_2 class=md-nav__link> <span class=md-ellipsis> Response </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#passivity-requests class=md-nav__link> <span class=md-ellipsis> Passivity requests </span> </a> <nav class=md-nav aria-label="Passivity requests"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#request_3 class=md-nav__link> <span class=md-ellipsis> Request </span> </a> </li> <li class=md-nav__item> <a href=#response_3 class=md-nav__link> <span class=md-ellipsis> Response </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#event-requests class=md-nav__link> <span class=md-ellipsis> Event requests </span> </a> <nav class=md-nav aria-label="Event requests"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#request_4 class=md-nav__link> <span class=md-ellipsis> Request </span> </a> </li> <li class=md-nav__item> <a href=#response_4 class=md-nav__link> <span class=md-ellipsis> Response </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#response-format class=md-nav__link> <span class=md-ellipsis> Response format </span> </a> <nav class=md-nav aria-label="Response format"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#successful-request class=md-nav__link> <span class=md-ellipsis> Successful request </span> </a> </li> <li class=md-nav__item> <a href=#request-that-encountered-an-error class=md-nav__link> <span class=md-ellipsis> Request that encountered an error </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#session-object class=md-nav__link> <span class=md-ellipsis> Session object </span> </a> </li> <li class=md-nav__item> <a href=#output-object class=md-nav__link> <span class=md-ellipsis> Output object </span> </a> </li> <li class=md-nav__item> <a href=#nlu-results-object class=md-nav__link> <span class=md-ellipsis> NLU results object </span> </a> </li> <li class=md-nav__item> <a href=#context-object class=md-nav__link> <span class=md-ellipsis> Context object </span> </a> </li> <li class=md-nav__item> <a href=#action-invocation-object class=md-nav__link> <span class=md-ellipsis> Action invocation object </span> </a> </li> <li class=md-nav__item> <a href=#facts-object class=md-nav__link> <span class=md-ellipsis> Facts object </span> </a> </li> <li class=md-nav__item> <a href=#expected-input-object class=md-nav__link> <span class=md-ellipsis> Expected input object </span> </a> </li> <li class=md-nav__item> <a href=#alternative-object class=md-nav__link> <span class=md-ellipsis> Alternative object </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../service_api/ class=md-nav__link> <span class=md-ellipsis> Service API </span> </a> </li> <li class=md-nav__item> <a href=../nlu_api/ class=md-nav__link> <span class=md-ellipsis> NLU API </span> </a> </li> <li class=md-nav__item> <a href=../nlg_api/ class=md-nav__link> <span class=md-ellipsis> NLG API </span> </a> </li> <li class=md-nav__item> <a href=../shared_objects/ class=md-nav__link> <span class=md-ellipsis> Shared objects </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5> <label class=md-nav__link for=__nav_5 id=__nav_5_label tabindex=0> <span class=md-ellipsis> Dialog Domain Description definitions </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_5_label aria-expanded=false> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> Dialog Domain Description definitions </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../dialog-domain-description-definition/ class=md-nav__link> <span class=md-ellipsis> Introduction </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_2> <label class=md-nav__link for=__nav_5_2 id=__nav_5_2_label tabindex=0> <span class=md-ellipsis> Service Interface </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_2_label aria-expanded=false> <label class=md-nav__title for=__nav_5_2> <span class="md-nav__icon md-icon"></span> Service Interface </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../dialog-domain-description-definition/service_interface/service_interface/ class=md-nav__link> <span class=md-ellipsis> Introduction </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_2_2> <label class=md-nav__link for=__nav_5_2_2 id=__nav_5_2_2_label tabindex=0> <span class=md-ellipsis> Elements </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_5_2_2_label aria-expanded=false> <label class=md-nav__title for=__nav_5_2_2> <span class="md-nav__icon md-icon"></span> Elements </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../dialog-domain-description-definition/service_interface/elements/action/ class=md-nav__link> <span class=md-ellipsis> Action </span> </a> </li> <li class=md-nav__item> <a href=../../dialog-domain-description-definition/service_interface/elements/query/ class=md-nav__link> <span class=md-ellipsis> Query </span> </a> </li> <li class=md-nav__item> <a href=../../dialog-domain-description-definition/service_interface/elements/validator/ class=md-nav__link> <span class=md-ellipsis> Validator </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_2_3> <label class=md-nav__link for=__nav_5_2_3 id=__nav_5_2_3_label tabindex=0> <span class=md-ellipsis> Children </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_5_2_3_label aria-expanded=false> <label class=md-nav__title for=__nav_5_2_3> <span class="md-nav__icon md-icon"></span> Children </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../dialog-domain-description-definition/service_interface/children/failure_reasons/ class=md-nav__link> <span class=md-ellipsis> Failure Reasons </span> </a> </li> <li class=md-nav__item> <a href=../../dialog-domain-description-definition/service_interface/children/parameters/ class=md-nav__link> <span class=md-ellipsis> Parameters </span> </a> </li> <li class=md-nav__item> <a href=../../dialog-domain-description-definition/service_interface/children/target/ class=md-nav__link> <span class=md-ellipsis> Target </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_3> <label class=md-nav__link for=__nav_5_3 id=__nav_5_3_label tabindex=0> <span class=md-ellipsis> Domain </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_3_label aria-expanded=false> <label class=md-nav__title for=__nav_5_3> <span class="md-nav__icon md-icon"></span> Domain </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../dialog-domain-description-definition/domain/domain/ class=md-nav__link> <span class=md-ellipsis> Introduction </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_3_2> <label class=md-nav__link for=__nav_5_3_2 id=__nav_5_3_2_label tabindex=0> <span class=md-ellipsis> Elements </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_5_3_2_label aria-expanded=false> <label class=md-nav__title for=__nav_5_3_2> <span class="md-nav__icon md-icon"></span> Elements </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../dialog-domain-description-definition/domain/elements/dependency/ class=md-nav__link> <span class=md-ellipsis> Dependency </span> </a> </li> <li class=md-nav__item> <a href=../../dialog-domain-description-definition/domain/elements/goal/ class=md-nav__link> <span class=md-ellipsis> Goal </span> </a> </li> <li class=md-nav__item> <a href=../../dialog-domain-description-definition/domain/elements/iterator/ class=md-nav__link> <span class=md-ellipsis> Iterator </span> </a> </li> <li class=md-nav__item> <a href=../../dialog-domain-description-definition/domain/elements/parameters/ class=md-nav__link> <span class=md-ellipsis> Parameters </span> </a> </li> <li class=md-nav__item> <a href=../../dialog-domain-description-definition/domain/children/plan/ class=md-nav__link> <span class=md-ellipsis> Plan </span> </a> </li> <li class=md-nav__item> <a href=../../dialog-domain-description-definition/domain/elements/query/ class=md-nav__link> <span class=md-ellipsis> Query </span> </a> </li> <li class=md-nav__item> <a href=../../dialog-domain-description-definition/domain/elements/validator/ class=md-nav__link> <span class=md-ellipsis> Validator </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_3_3> <label class=md-nav__link for=__nav_5_3_3 id=__nav_5_3_3_label tabindex=0> <span class=md-ellipsis> Plan Items </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_5_3_3_label aria-expanded=false> <label class=md-nav__title for=__nav_5_3_3> <span class="md-nav__icon md-icon"></span> Plan Items </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../dialog-domain-description-definition/domain/children/assume_issue/ class=md-nav__link> <span class=md-ellipsis> Assume Issue </span> </a> </li> <li class=md-nav__item> <a href=../../dialog-domain-description-definition/domain/children/assume_shared/ class=md-nav__link> <span class=md-ellipsis> Assume Shared </span> </a> </li> <li class=md-nav__item> <a href=../../dialog-domain-description-definition/domain/children/assume_system_belief/ class=md-nav__link> <span class=md-ellipsis> Assume System Belief </span> </a> </li> <li class=md-nav__item> <a href=../../dialog-domain-description-definition/domain/children/bind/ class=md-nav__link> <span class=md-ellipsis> Bind </span> </a> </li> <li class=md-nav__item> <a href=../../dialog-domain-description-definition/domain/children/change_ddd/ class=md-nav__link> <span class=md-ellipsis> Change DDD </span> </a> </li> <li class=md-nav__item> <a href=../../dialog-domain-description-definition/domain/children/end_turn/ class=md-nav__link> <span class=md-ellipsis> End Turn </span> </a> </li> <li class=md-nav__item> <a href=../../dialog-domain-description-definition/domain/children/findout/ class=md-nav__link> <span class=md-ellipsis> Findout </span> </a> </li> <li class=md-nav__item> <a href=../../dialog-domain-description-definition/domain/children/forget_all/ class=md-nav__link> <span class=md-ellipsis> Forget All </span> </a> </li> <li class=md-nav__item> <a href=../../dialog-domain-description-definition/domain/children/forget/ class=md-nav__link> <span class=md-ellipsis> Forget </span> </a> </li> <li class=md-nav__item> <a href=../../dialog-domain-description-definition/domain/children/forget_shared/ class=md-nav__link> <span class=md-ellipsis> Forget Shared </span> </a> </li> <li class=md-nav__item> <a href=../../dialog-domain-description-definition/domain/children/get_done/ class=md-nav__link> <span class=md-ellipsis> Get Done </span> </a> </li> <li class=md-nav__item> <a href=../../dialog-domain-description-definition/domain/children/if/ class=md-nav__link> <span class=md-ellipsis> If </span> </a> </li> <li class=md-nav__item> <a href=../../dialog-domain-description-definition/domain/children/inform/ class=md-nav__link> <span class=md-ellipsis> Inform </span> </a> </li> <li class=md-nav__item> <a href=../../dialog-domain-description-definition/domain/children/invoke_service_action/ class=md-nav__link> <span class=md-ellipsis> Invoke Service Action </span> </a> </li> <li class=md-nav__item> <a href=../../dialog-domain-description-definition/domain/children/invoke_service_query/ class=md-nav__link> <span class=md-ellipsis> Invoke Service Query </span> </a> </li> <li class=md-nav__item> <a href=../../dialog-domain-description-definition/domain/children/invoke_domain_query/ class=md-nav__link> <span class=md-ellipsis> Invoke Domain Query </span> </a> </li> <li class=md-nav__item> <a href=../../dialog-domain-description-definition/domain/children/iterate/ class=md-nav__link> <span class=md-ellipsis> Iterate </span> </a> </li> <li class=md-nav__item> <a href=../../dialog-domain-description-definition/domain/children/jumpto.md class=md-nav__link> <span class=md-ellipsis> Jumpto </span> </a> </li> <li class=md-nav__item> <a href=../../dialog-domain-description-definition/domain/children/log/ class=md-nav__link> <span class=md-ellipsis> Log </span> </a> </li> <li class=md-nav__item> <a href=../../dialog-domain-description-definition/domain/children/once/ class=md-nav__link> <span class=md-ellipsis> Once </span> </a> </li> <li class=md-nav__item> <a href=../../dialog-domain-description-definition/domain/children/raise/ class=md-nav__link> <span class=md-ellipsis> Raise </span> </a> </li> <li class=md-nav__item> <a href=../../dialog-domain-description-definition/domain/children/signal_action_completion/ class=md-nav__link> <span class=md-ellipsis> Signal_Action_Completion </span> </a> </li> <li class=md-nav__item> <a href=../../dialog-domain-description-definition/domain/children/signal_action_failure/ class=md-nav__link> <span class=md-ellipsis> Signal_Action_Failure </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_3_4> <label class=md-nav__link for=__nav_5_3_4 id=__nav_5_3_4_label tabindex=0> <span class=md-ellipsis> Children </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_5_3_4_label aria-expanded=false> <label class=md-nav__title for=__nav_5_3_4> <span class="md-nav__icon md-icon"></span> Children </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../dialog-domain-description-definition/domain/children/always_relevant/ class=md-nav__link> <span class=md-ellipsis> Always Relevant </span> </a> </li> <li class=md-nav__item> <a href=../../dialog-domain-description-definition/domain/children/ask_feature/ class=md-nav__link> <span class=md-ellipsis> Ask Feature </span> </a> </li> <li class=md-nav__item> <a href=../../dialog-domain-description-definition/domain/children/background/ class=md-nav__link> <span class=md-ellipsis> Background </span> </a> </li> <li class=md-nav__item> <a href=../../dialog-domain-description-definition/domain/children/hint/ class=md-nav__link> <span class=md-ellipsis> Hint </span> </a> </li> <li class=md-nav__item> <a href=../../dialog-domain-description-definition/domain/children/service_query/ class=md-nav__link> <span class=md-ellipsis> Service Query </span> </a> </li> <li class=md-nav__item> <a href=../../dialog-domain-description-definition/domain/children/downdate_condition/ class=md-nav__link> <span class=md-ellipsis> Downdate Condition </span> </a> </li> <li class=md-nav__item> <a href=../../dialog-domain-description-definition/domain/children/conditions/ class=md-nav__link> <span class=md-ellipsis> Has Shared Value </span> </a> </li> <li class=md-nav__item> <a href=../../dialog-domain-description-definition/domain/children/conditions/ class=md-nav__link> <span class=md-ellipsis> Has Private Value </span> </a> </li> <li class=md-nav__item> <a href=../../dialog-domain-description-definition/domain/children/conditions/ class=md-nav__link> <span class=md-ellipsis> Has Shared or Private Value </span> </a> </li> <li class=md-nav__item> <a href=../../dialog-domain-description-definition/domain/children/conditions/ class=md-nav__link> <span class=md-ellipsis> Is Shared Commitment </span> </a> </li> <li class=md-nav__item> <a href=../../dialog-domain-description-definition/domain/children/conditions/ class=md-nav__link> <span class=md-ellipsis> Is Private Belief </span> </a> </li> <li class=md-nav__item> <a href=../../dialog-domain-description-definition/domain/children/conditions/ class=md-nav__link> <span class=md-ellipsis> Is Private Belief or Shared Commitment </span> </a> </li> <li class=md-nav__item> <a href=../../dialog-domain-description-definition/domain/children/postplan/ class=md-nav__link> <span class=md-ellipsis> Postplan </span> </a> </li> <li class=md-nav__item> <a href=../../dialog-domain-description-definition/domain/children/preferred.md class=md-nav__link> <span class=md-ellipsis> Preferred </span> </a> </li> <li class=md-nav__item> <a href=../../dialog-domain-description-definition/domain/children/proposition/ class=md-nav__link> <span class=md-ellipsis> Proposition </span> </a> </li> <li class=md-nav__item> <a href=../../dialog-domain-description-definition/domain/children/superaction.md class=md-nav__link> <span class=md-ellipsis> Superaction </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_4> <label class=md-nav__link for=__nav_5_4 id=__nav_5_4_label tabindex=0> <span class=md-ellipsis> Ontology </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_4_label aria-expanded=false> <label class=md-nav__title for=__nav_5_4> <span class="md-nav__icon md-icon"></span> Ontology </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../dialog-domain-description-definition/ontology/ontology/ class=md-nav__link> <span class=md-ellipsis> Introduction </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_4_2> <label class=md-nav__link for=__nav_5_4_2 id=__nav_5_4_2_label tabindex=0> <span class=md-ellipsis> Elements </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_5_4_2_label aria-expanded=false> <label class=md-nav__title for=__nav_5_4_2> <span class="md-nav__icon md-icon"></span> Elements </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../dialog-domain-description-definition/ontology/elements/sort/ class=md-nav__link> <span class=md-ellipsis> Sort </span> </a> </li> <li class=md-nav__item> <a href=../../dialog-domain-description-definition/ontology/elements/predicate/ class=md-nav__link> <span class=md-ellipsis> Predicate </span> </a> </li> <li class=md-nav__item> <a href=../../dialog-domain-description-definition/ontology/elements/individual/ class=md-nav__link> <span class=md-ellipsis> Individual </span> </a> </li> <li class=md-nav__item> <a href=../../dialog-domain-description-definition/ontology/elements/action/ class=md-nav__link> <span class=md-ellipsis> Action </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#important-concepts class=md-nav__link> <span class=md-ellipsis> Important concepts </span> </a> <nav class=md-nav aria-label="Important concepts"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#requests-and-responses class=md-nav__link> <span class=md-ellipsis> Requests and responses </span> </a> </li> <li class=md-nav__item> <a href=#turn-taking class=md-nav__link> <span class=md-ellipsis> Turn taking </span> </a> </li> <li class=md-nav__item> <a href=#errors class=md-nav__link> <span class=md-ellipsis> Errors </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#start-session-requests class=md-nav__link> <span class=md-ellipsis> Start session requests </span> </a> <nav class=md-nav aria-label="Start session requests"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#request class=md-nav__link> <span class=md-ellipsis> Request </span> </a> </li> <li class=md-nav__item> <a href=#response class=md-nav__link> <span class=md-ellipsis> Response </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#natural-language-input-requests class=md-nav__link> <span class=md-ellipsis> Natural language input requests </span> </a> <nav class=md-nav aria-label="Natural language input requests"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#request_1 class=md-nav__link> <span class=md-ellipsis> Request </span> </a> </li> <li class=md-nav__item> <a href=#response_1 class=md-nav__link> <span class=md-ellipsis> Response </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#semantic-input-requests class=md-nav__link> <span class=md-ellipsis> Semantic input requests </span> </a> <nav class=md-nav aria-label="Semantic input requests"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#request_2 class=md-nav__link> <span class=md-ellipsis> Request </span> </a> </li> <li class=md-nav__item> <a href=#response_2 class=md-nav__link> <span class=md-ellipsis> Response </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#passivity-requests class=md-nav__link> <span class=md-ellipsis> Passivity requests </span> </a> <nav class=md-nav aria-label="Passivity requests"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#request_3 class=md-nav__link> <span class=md-ellipsis> Request </span> </a> </li> <li class=md-nav__item> <a href=#response_3 class=md-nav__link> <span class=md-ellipsis> Response </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#event-requests class=md-nav__link> <span class=md-ellipsis> Event requests </span> </a> <nav class=md-nav aria-label="Event requests"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#request_4 class=md-nav__link> <span class=md-ellipsis> Request </span> </a> </li> <li class=md-nav__item> <a href=#response_4 class=md-nav__link> <span class=md-ellipsis> Response </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#response-format class=md-nav__link> <span class=md-ellipsis> Response format </span> </a> <nav class=md-nav aria-label="Response format"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#successful-request class=md-nav__link> <span class=md-ellipsis> Successful request </span> </a> </li> <li class=md-nav__item> <a href=#request-that-encountered-an-error class=md-nav__link> <span class=md-ellipsis> Request that encountered an error </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#session-object class=md-nav__link> <span class=md-ellipsis> Session object </span> </a> </li> <li class=md-nav__item> <a href=#output-object class=md-nav__link> <span class=md-ellipsis> Output object </span> </a> </li> <li class=md-nav__item> <a href=#nlu-results-object class=md-nav__link> <span class=md-ellipsis> NLU results object </span> </a> </li> <li class=md-nav__item> <a href=#context-object class=md-nav__link> <span class=md-ellipsis> Context object </span> </a> </li> <li class=md-nav__item> <a href=#action-invocation-object class=md-nav__link> <span class=md-ellipsis> Action invocation object </span> </a> </li> <li class=md-nav__item> <a href=#facts-object class=md-nav__link> <span class=md-ellipsis> Facts object </span> </a> </li> <li class=md-nav__item> <a href=#expected-input-object class=md-nav__link> <span class=md-ellipsis> Expected input object </span> </a> </li> <li class=md-nav__item> <a href=#alternative-object class=md-nav__link> <span class=md-ellipsis> Alternative object </span> </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1 id=pipeline-api>Pipeline API<a class=headerlink href=#pipeline-api title="Permanent link">&para;</a></h1> <p>This document describes API version 3.4 for HTTP frontends, enabling frontends to integrate with TDM over HTTP. It covers e.g. how input from the user and output from TDM are communicated between TDM and the client.</p> <h2 id=important-concepts>Important concepts<a class=headerlink href=#important-concepts title="Permanent link">&para;</a></h2> <p>This section describes some concepts that are important to understand and comply with when integrating TDM in a dialog system.</p> <h3 id=requests-and-responses>Requests and responses<a class=headerlink href=#requests-and-responses title="Permanent link">&para;</a></h3> <p>TDM serves an HTTP server and responds to requests done by the client. The client is the consumer of the API outlined in this document.</p> <p>The client invokes TDM with an HTTP request to the interaction endpoint, e.g. <code>http://localhost:9090/interact</code>, using the POST method and a JSON body. The client should expect the status code to be 200 OK. For other status codes, the client should report an error to the user.</p> <p>The request body always contains a version number, specifying the version of the HTTP API format.</p> <p>The exact format of the request and the response depends on the type of request as described in the separate sections below.</p> <h3 id=turn-taking>Turn taking<a class=headerlink href=#turn-taking title="Permanent link">&para;</a></h3> <p>Turn taking is a vital part of dialog between humans, read for instance <a href=https://en.wikipedia.org/wiki/Turn-taking>the Wikipedia article</a>. Since TDM is based on research on human-human dialog, turn taking is a central concept here too.</p> <p>The TDM client is responsible for managing turn-taking on behalf of the machine, because it's the component that is closest to the human, in the human-machine dialog that TDM enables. Since the machine is intended to assist the human, the human decides the pace, the turn taking, of the conversation. In spoken dialog, turn taking happens in close collaboration with the spoken output of the system, which means that the system's turn management needs to happen as close to this component, the text-to-speech component (TTS), as possible.</p> <p>TDM enables intuitive turn taking by instructing its client how to deal with the user input that it's range of sensors can pick up. The instructions are straightforward and revolve around passivity. If the user is passive, for instance doesn't know what to say, for a given amount of time, the client sends TDM a <a href=#passivity-requests>passivity request</a>, which lets the system take the next turn instead of the user.</p> <p>The user should be considered passive when not doing anything related to the dialog. If the user however takes some action (although not completing its turn just yet), for instance by typing (if it's a text interface) or talking (if it's a spoken interface), the user should be considered active and the passivity request should not be sent to TDM. Instead the user should be allowed to complete its turn, resulting in an input request.</p> <p>TDM instructs its client about how much time of passivity that should pass before sending the passivity request in the <code>output.expected_passivity</code> field of the <a href=#response-format>response</a>.</p> <p>For instance, if TDM responds with:</p> <div class=highlight><pre><span></span><code><span class=p>{</span>
<span class=w>  </span><span class=nt>&quot;output&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=err>...</span>
<span class=w>    </span><span class=nt>&quot;expected_passivity&quot;</span><span class=p>:</span><span class=w> </span><span class=mf>1.0</span>
<span class=w>  </span><span class=p>},</span>
<span class=w>  </span><span class=err>...</span>
<span class=p>}</span>
</code></pre></div> <p>then the client should send a <a href=#passivity-requests>passivity request</a> when the user has been passive for 1 second. The 1 second should start counting when the system utterance has reached the user, which in a spoken interface means when the TTS finished speaking TDM's utterance.</p> <p>Note that sometimes TDM does not have anything to say when the user becomes passive (<code>"expected_passivity": null</code>), and sometimes it just needs to progress the conversation immediately after saying something (<code>"expected_passivity": 0.0</code>).</p> <p>Read the details about how to interpret the <code>expected_passivity</code> value in the <a href=#response-format>response format section</a>.</p> <h3 id=errors>Errors<a class=headerlink href=#errors title="Permanent link">&para;</a></h3> <p>When an error occurs in TDM during a request, for instance due to incomplete turn management, the <a href=#response-format>response</a> contains the <code>"error"</code> field. It's important to note that this could mean that the session stops. If it has stopped, further requests on the same session will report errors that the provided session ID is unknown.</p> <h2 id=start-session-requests>Start session requests<a class=headerlink href=#start-session-requests title="Permanent link">&para;</a></h2> <p>When a new session should be started, the client issues a <code>start_session</code> request. The response contains initial output from TDM and a session ID that can be used in subsequent requests. For more details, see <a href=#response-format>the response format</a>.</p> <p>If a session ID is provided together with the <code>start_session</code> request, an error is given. The integrity of the session is however maintained.</p> <h3 id=request>Request<a class=headerlink href=#request title="Permanent link">&para;</a></h3> <p>Example:</p> <div class=highlight><pre><span></span><code><span class=p>{</span>
<span class=w>  </span><span class=nt>&quot;version&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;3.4&quot;</span><span class=p>,</span>
<span class=w>  </span><span class=nt>&quot;session&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{},</span>
<span class=w>  </span><span class=nt>&quot;request&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=nt>&quot;start_session&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{}</span>
<span class=w>  </span><span class=p>}</span>
<span class=p>}</span>
</code></pre></div> <p>The <code>session</code> object can contain frontend-specific session data to be used in dialog or by services. For more details, see <a href=#session-object>the session object</a>.</p> <p>The <code>start_session</code> object may contain the following optional members:</p> <ul> <li><code>ddd_set</code>: A string specifying a DDD set for the session. If omitted, a default DDD set configured by the backend is used.</li> </ul> <p>The <code>start_session</code> request may be issued on its own, so that the system will start the conversation; or combined with <code>natural_language_input</code>, <code>semantic_input</code> and <code>event</code> requests to start the conversation from there.</p> <p>Example when combined with <code>natural_language_input</code>:</p> <div class=highlight><pre><span></span><code><span class=p>{</span>
<span class=w>  </span><span class=nt>&quot;version&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;3.4&quot;</span><span class=p>,</span>
<span class=w>  </span><span class=nt>&quot;request&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=nt>&quot;start_session&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{},</span>
<span class=w>    </span><span class=nt>&quot;natural_language_input&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=err>...</span><span class=p>}</span>
<span class=w>  </span><span class=p>}</span>
<span class=p>}</span>
</code></pre></div> <h3 id=response>Response<a class=headerlink href=#response title="Permanent link">&para;</a></h3> <p>See <a href=#response-format>response format</a>.</p> <h2 id=natural-language-input-requests>Natural language input requests<a class=headerlink href=#natural-language-input-requests title="Permanent link">&para;</a></h2> <p>When the client detects natural language input from the user, it issues a request and receives output from TDM. The request can contain either hypotheses with the <code>speech</code> modality, or a single utterance with the <code>text</code> modality.</p> <h3 id=request_1>Request<a class=headerlink href=#request_1 title="Permanent link">&para;</a></h3> <p>Speech input example:</p> <div class=highlight><pre><span></span><code><span class=p>{</span>
<span class=w>  </span><span class=nt>&quot;version&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;3.4&quot;</span><span class=p>,</span>
<span class=w>  </span><span class=nt>&quot;session&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=nt>&quot;session_id&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;0000-abcd-1111-efgh&quot;</span>
<span class=w>  </span><span class=p>},</span>
<span class=w>  </span><span class=nt>&quot;request&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=nt>&quot;natural_language_input&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
<span class=w>      </span><span class=nt>&quot;modality&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;speech&quot;</span><span class=p>,</span>
<span class=w>      </span><span class=nt>&quot;hypotheses&quot;</span><span class=p>:</span><span class=w> </span><span class=p>[</span>
<span class=w>        </span><span class=p>{</span>
<span class=w>          </span><span class=nt>&quot;utterance&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;call John&quot;</span><span class=p>,</span>
<span class=w>          </span><span class=nt>&quot;confidence&quot;</span><span class=p>:</span><span class=w> </span><span class=mf>0.81</span>
<span class=w>        </span><span class=p>},</span>
<span class=w>        </span><span class=p>{</span>
<span class=w>          </span><span class=nt>&quot;utterance&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;calling John&quot;</span><span class=p>,</span>
<span class=w>          </span><span class=nt>&quot;confidence&quot;</span><span class=p>:</span><span class=w> </span><span class=mf>0.65</span>
<span class=w>        </span><span class=p>},</span>
<span class=w>        </span><span class=p>{</span>
<span class=w>          </span><span class=nt>&quot;utterance&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;call him John&quot;</span><span class=p>,</span>
<span class=w>          </span><span class=nt>&quot;confidence&quot;</span><span class=p>:</span><span class=w> </span><span class=mf>0.31</span>
<span class=w>        </span><span class=p>}</span>
<span class=w>      </span><span class=p>]</span>
<span class=w>    </span><span class=p>}</span>
<span class=w>  </span><span class=p>}</span>
<span class=p>}</span>
</code></pre></div> <p>Text input example:</p> <div class=highlight><pre><span></span><code><span class=p>{</span>
<span class=w>  </span><span class=nt>&quot;version&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;3.4&quot;</span><span class=p>,</span>
<span class=w>  </span><span class=nt>&quot;session&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=nt>&quot;session_id&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;0000-abcd-1111-efgh&quot;</span>
<span class=w>  </span><span class=p>},</span>
<span class=w>  </span><span class=nt>&quot;request&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=nt>&quot;natural_language_input&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
<span class=w>      </span><span class=nt>&quot;modality&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;text&quot;</span><span class=p>,</span>
<span class=w>      </span><span class=nt>&quot;utterance&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;I&#39;m searching for flights from London to Paris tomorrow&quot;</span>
<span class=w>    </span><span class=p>}</span>
<span class=w>  </span><span class=p>}</span>
<span class=p>}</span>
</code></pre></div> <p>The <code>session</code> object can contain frontend-specific session data to be used in dialog or by services. For more details, see <a href=#session-object>the session object</a></p> <p>See the <a href=../shared_objects/#natural-language-input-object>natural language input object</a> for more details.</p> <p>The <code>natural_language_input</code> request may be combined with the <code>start_session</code> request when a session does not yet exist, but may not be combined with other requests.</p> <p>Example: <div class=highlight><pre><span></span><code><span class=p>{</span>
<span class=w>  </span><span class=nt>&quot;version&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;3.4&quot;</span><span class=p>,</span>
<span class=w>  </span><span class=nt>&quot;request&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=nt>&quot;start_session&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{},</span>
<span class=w>    </span><span class=nt>&quot;natural_language_input&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=err>...</span><span class=p>}</span>
<span class=w>  </span><span class=p>}</span>
<span class=p>}</span>
</code></pre></div></p> <h3 id=response_1>Response<a class=headerlink href=#response_1 title="Permanent link">&para;</a></h3> <p>See <a href=#response-format>response format</a>.</p> <h2 id=semantic-input-requests>Semantic input requests<a class=headerlink href=#semantic-input-requests title="Permanent link">&para;</a></h2> <p>When the client has user input on a semantic format, as a user move, it should issue the <code>semantic_input</code> request.</p> <p>Semantic in this case means that the user input does not need to be interpreted; the user move is already known. This is useful when an external natural language understanding (NLU) component has already interpreted the input; when the user presses a button in a GUI; or for instance when the user makes a gesture which is interpreted as a user move.</p> <h3 id=request_2>Request<a class=headerlink href=#request_2 title="Permanent link">&para;</a></h3> <div class=highlight><pre><span></span><code><span class=p>{</span>
<span class=w>  </span><span class=nt>&quot;version&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;3.4&quot;</span><span class=p>,</span>
<span class=w>  </span><span class=nt>&quot;session&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=nt>&quot;session_id&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;0000-abcd-1111-efgh&quot;</span>
<span class=w>  </span><span class=p>},</span>
<span class=w>  </span><span class=nt>&quot;request&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=nt>&quot;semantic_input&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
<span class=w>      </span><span class=nt>&quot;interpretations&quot;</span><span class=p>:</span><span class=w> </span><span class=p>[</span>
<span class=w>        </span><span class=p>{</span>
<span class=w>          </span><span class=nt>&quot;utterance&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;call John&quot;</span><span class=p>,</span>
<span class=w>          </span><span class=nt>&quot;modality&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;speech&quot;</span><span class=p>,</span>
<span class=w>          </span><span class=nt>&quot;moves&quot;</span><span class=p>:</span><span class=w> </span><span class=p>[</span>
<span class=w>            </span><span class=p>{</span>
<span class=w>              </span><span class=nt>&quot;perception_confidence&quot;</span><span class=p>:</span><span class=w> </span><span class=mf>0.81</span><span class=p>,</span>
<span class=w>              </span><span class=nt>&quot;understanding_confidence&quot;</span><span class=p>:</span><span class=w> </span><span class=mf>0.92215</span><span class=p>,</span>
<span class=w>              </span><span class=nt>&quot;ddd&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;phone&quot;</span><span class=p>,</span>
<span class=w>              </span><span class=nt>&quot;semantic_expression&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;request(call)&quot;</span>
<span class=w>            </span><span class=p>},</span>
<span class=w>            </span><span class=p>{</span>
<span class=w>              </span><span class=nt>&quot;perception_confidence&quot;</span><span class=p>:</span><span class=w> </span><span class=mf>0.81</span><span class=p>,</span>
<span class=w>              </span><span class=nt>&quot;understanding_confidence&quot;</span><span class=p>:</span><span class=w> </span><span class=mf>0.98532</span><span class=p>,</span>
<span class=w>              </span><span class=nt>&quot;ddd&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;phone&quot;</span><span class=p>,</span>
<span class=w>              </span><span class=nt>&quot;semantic_expression&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;answer(contact_john)&quot;</span>
<span class=w>            </span><span class=p>}</span>
<span class=w>          </span><span class=p>]</span>
<span class=w>        </span><span class=p>},</span>
<span class=w>        </span><span class=p>{</span>
<span class=w>          </span><span class=nt>&quot;utterance&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;calling John&quot;</span><span class=p>,</span>
<span class=w>          </span><span class=nt>&quot;modality&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;speech&quot;</span><span class=p>,</span>
<span class=w>          </span><span class=nt>&quot;moves&quot;</span><span class=p>:</span><span class=w> </span><span class=p>[</span>
<span class=w>            </span><span class=p>{</span>
<span class=w>              </span><span class=nt>&quot;perception_confidence&quot;</span><span class=p>:</span><span class=w> </span><span class=mf>0.65</span><span class=p>,</span>
<span class=w>              </span><span class=nt>&quot;understanding_confidence&quot;</span><span class=p>:</span><span class=w> </span><span class=mf>0.5234</span><span class=p>,</span>
<span class=w>              </span><span class=nt>&quot;ddd&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;phone&quot;</span><span class=p>,</span>
<span class=w>              </span><span class=nt>&quot;semantic_expression&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;request(call)&quot;</span>
<span class=w>            </span><span class=p>},</span>
<span class=w>            </span><span class=p>{</span>
<span class=w>              </span><span class=nt>&quot;perception_confidence&quot;</span><span class=p>:</span><span class=w> </span><span class=mf>0.65</span><span class=p>,</span>
<span class=w>              </span><span class=nt>&quot;understanding_confidence&quot;</span><span class=p>:</span><span class=w> </span><span class=mf>0.98532</span><span class=p>,</span>
<span class=w>              </span><span class=nt>&quot;ddd&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;phone&quot;</span><span class=p>,</span>
<span class=w>              </span><span class=nt>&quot;semantic_expression&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;answer(contact_john)&quot;</span>
<span class=w>            </span><span class=p>}</span>
<span class=w>          </span><span class=p>]</span>
<span class=w>        </span><span class=p>},</span>
<span class=w>        </span><span class=p>{</span>
<span class=w>          </span><span class=nt>&quot;utterance&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;call him John&quot;</span><span class=p>,</span>
<span class=w>          </span><span class=nt>&quot;modality&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;speech&quot;</span><span class=p>,</span>
<span class=w>          </span><span class=nt>&quot;moves&quot;</span><span class=p>:</span><span class=w> </span><span class=p>[</span>
<span class=w>            </span><span class=p>{</span>
<span class=w>              </span><span class=nt>&quot;perception_confidence&quot;</span><span class=p>:</span><span class=w> </span><span class=mf>0.31</span><span class=p>,</span>
<span class=w>              </span><span class=nt>&quot;understanding_confidence&quot;</span><span class=p>:</span><span class=w> </span><span class=mf>0.2216</span><span class=p>,</span>
<span class=w>              </span><span class=nt>&quot;ddd&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;phone&quot;</span><span class=p>,</span>
<span class=w>              </span><span class=nt>&quot;semantic_expression&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;request(call)&quot;</span>
<span class=w>            </span><span class=p>},</span>
<span class=w>            </span><span class=p>{</span>
<span class=w>              </span><span class=nt>&quot;perception_confidence&quot;</span><span class=p>:</span><span class=w> </span><span class=mf>0.31</span><span class=p>,</span>
<span class=w>              </span><span class=nt>&quot;understanding_confidence&quot;</span><span class=p>:</span><span class=w> </span><span class=mf>0.98532</span><span class=p>,</span>
<span class=w>              </span><span class=nt>&quot;ddd&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;phone&quot;</span><span class=p>,</span>
<span class=w>              </span><span class=nt>&quot;semantic_expression&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;answer(contact_john)&quot;</span>
<span class=w>            </span><span class=p>}</span>
<span class=w>          </span><span class=p>]</span>
<span class=w>        </span><span class=p>},</span>
<span class=w>        </span><span class=p>{</span>
<span class=w>          </span><span class=nt>&quot;utterance&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;call him John&quot;</span><span class=p>,</span>
<span class=w>          </span><span class=nt>&quot;modality&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;speech&quot;</span><span class=p>,</span>
<span class=w>          </span><span class=nt>&quot;moves&quot;</span><span class=p>:</span><span class=w> </span><span class=p>[</span>
<span class=w>            </span><span class=p>{</span>
<span class=w>              </span><span class=nt>&quot;perception_confidence&quot;</span><span class=p>:</span><span class=w> </span><span class=mf>0.31</span><span class=p>,</span>
<span class=w>              </span><span class=nt>&quot;understanding_confidence&quot;</span><span class=p>:</span><span class=w> </span><span class=mf>0.10126</span><span class=p>,</span>
<span class=w>              </span><span class=nt>&quot;ddd&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;phone&quot;</span><span class=p>,</span>
<span class=w>              </span><span class=nt>&quot;semantic_expression&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;ask(?X.phone_number(X))&quot;</span>
<span class=w>            </span><span class=p>},</span>
<span class=w>            </span><span class=p>{</span>
<span class=w>              </span><span class=nt>&quot;perception_confidence&quot;</span><span class=p>:</span><span class=w> </span><span class=mf>0.31</span><span class=p>,</span>
<span class=w>              </span><span class=nt>&quot;understanding_confidence&quot;</span><span class=p>:</span><span class=w> </span><span class=mf>0.98532</span><span class=p>,</span>
<span class=w>              </span><span class=nt>&quot;ddd&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;phone&quot;</span><span class=p>,</span>
<span class=w>              </span><span class=nt>&quot;semantic_expression&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;answer(contact_john)&quot;</span>
<span class=w>            </span><span class=p>}</span>
<span class=w>          </span><span class=p>]</span>
<span class=w>        </span><span class=p>}</span>
<span class=w>      </span><span class=p>],</span>
<span class=w>      </span><span class=nt>&quot;entities&quot;</span><span class=p>:</span><span class=w> </span><span class=p>[</span>
<span class=w>        </span><span class=p>{</span>
<span class=w>          </span><span class=nt>&quot;name&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;contact_john&quot;</span><span class=p>,</span>
<span class=w>          </span><span class=nt>&quot;sort&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;contact&quot;</span><span class=p>,</span>
<span class=w>          </span><span class=nt>&quot;natural_language_form&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;John&quot;</span><span class=p>,</span>
<span class=w>          </span><span class=nt>&quot;ddd&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;phone&quot;</span>
<span class=w>        </span><span class=p>}</span>
<span class=w>      </span><span class=p>]</span>
<span class=w>    </span><span class=p>}</span>
<span class=w>  </span><span class=p>}</span>
<span class=p>}</span>
</code></pre></div> <p>The <code>session</code> object can contain frontend-specific session data to be used in dialog or by services. For more details, see <a href=#session-object>the session object</a>.</p> <ul> <li><code>interpretations</code>: A list of <a href=#interpretation-object>interpretation objects</a>. TDM will use confidence scores and the context of the current state of the session to decide which interpretation to act upon.</li> <li><code>entities</code>: (optional) A list of <a href=#entity-object>entity objects</a>. TDM can use these entities in interpretations and for natural language generation.</li> </ul> <p>See the <a href=../shared_objects/#semantic-input-object>semantic input object</a> for more details.</p> <p>The <code>semantic_input</code> request may be combined with the <code>start_session</code> request when a session does not yet exist, but may not be combined with other requests.</p> <p>Example:</p> <div class=highlight><pre><span></span><code><span class=p>{</span>
<span class=w>  </span><span class=nt>&quot;version&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;3.4&quot;</span><span class=p>,</span>
<span class=w>  </span><span class=nt>&quot;request&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=nt>&quot;start_session&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{},</span>
<span class=w>    </span><span class=nt>&quot;semantic_input&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=err>...</span><span class=p>}</span>
<span class=w>  </span><span class=p>}</span>
<span class=p>}</span>
</code></pre></div> <h3 id=response_2>Response<a class=headerlink href=#response_2 title="Permanent link">&para;</a></h3> <p>See <a href=#response-format>response format</a>.</p> <h2 id=passivity-requests>Passivity requests<a class=headerlink href=#passivity-requests title="Permanent link">&para;</a></h2> <p>When the client detects user passivity, it issues a request and receives output from TDM.</p> <h3 id=request_3>Request<a class=headerlink href=#request_3 title="Permanent link">&para;</a></h3> <p>Example:</p> <div class=highlight><pre><span></span><code><span class=p>{</span>
<span class=w>  </span><span class=nt>&quot;version&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;3.4&quot;</span><span class=p>,</span>
<span class=w>  </span><span class=nt>&quot;session&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=nt>&quot;session_id&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;0000-abcd-1111-efgh&quot;</span>
<span class=w>  </span><span class=p>},</span>
<span class=w>  </span><span class=nt>&quot;request&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=nt>&quot;passivity&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{}</span>
<span class=w>  </span><span class=p>}</span>
<span class=p>}</span>
</code></pre></div> <p>The <code>session</code> object can contain frontend-specific session data to be used in dialog or by services. For more details, see <a href=#session-object>the session object</a>.</p> <p>The <code>passivity</code> request may not be combined with other requests in the same call.</p> <h3 id=response_3>Response<a class=headerlink href=#response_3 title="Permanent link">&para;</a></h3> <p>See <a href=#response-format>response format</a>.</p> <h2 id=event-requests>Event requests<a class=headerlink href=#event-requests title="Permanent link">&para;</a></h2> <p>When the client detects that an event pertaining to a relevant DDD has occurred, it should issue an event notification request, and receives output from TDM.</p> <h3 id=request_4>Request<a class=headerlink href=#request_4 title="Permanent link">&para;</a></h3> <p>Example:</p> <div class=highlight><pre><span></span><code><span class=p>{</span>
<span class=w>  </span><span class=nt>&quot;version&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;3.4&quot;</span><span class=p>,</span>
<span class=w>  </span><span class=nt>&quot;session&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=nt>&quot;session_id&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;0000-abcd-1111-efgh&quot;</span>
<span class=w>  </span><span class=p>},</span>
<span class=w>  </span><span class=nt>&quot;request&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=nt>&quot;event&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
<span class=w>      </span><span class=nt>&quot;name&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;IncomingCall&quot;</span><span class=p>,</span>
<span class=w>      </span><span class=nt>&quot;status&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;started&quot;</span><span class=p>,</span>
<span class=w>      </span><span class=nt>&quot;parameters&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=nt>&quot;caller&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;contact_12345&quot;</span>
<span class=w>      </span><span class=p>}</span>
<span class=w>    </span><span class=p>}</span>
<span class=w>  </span><span class=p>}</span>
<span class=p>}</span>
</code></pre></div> <p>The <code>session</code> object can contain frontend-specific session data to be used in dialog or by services. For more details, see <a href=#session-object>the session object</a>.</p> <p>The <code>event</code> object contains the following members:</p> <ul> <li><code>name</code>: A string corresponding to the name of the event, specified as an action in the service interface.</li> <li><code>status</code>: Either <code>started</code> or <code>ended</code>.</li> <li><code>parameters</code>: A map of key-value pairs pertaining to the event, corresponding to the parameters specified for the action in the service interface. The key is a string matching the parameter's predicate, and the value is a string containing the ID of the value (e.g. a number or a string depending on the sort).</li> </ul> <p>The <code>event</code> request may be combined with the <code>start_session</code> request when a session does not yet exist, but may not be combined with other requests.</p> <p>Example:</p> <div class=highlight><pre><span></span><code><span class=p>{</span>
<span class=w>  </span><span class=nt>&quot;version&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;3.4&quot;</span><span class=p>,</span>
<span class=w>  </span><span class=nt>&quot;request&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=nt>&quot;start_session&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{},</span>
<span class=w>    </span><span class=nt>&quot;event&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=err>...</span><span class=p>}</span>
<span class=w>  </span><span class=p>}</span>
<span class=p>}</span>
</code></pre></div> <h3 id=response_4>Response<a class=headerlink href=#response_4 title="Permanent link">&para;</a></h3> <p>See <a href=#response-format>response format</a>.</p> <h2 id=response-format>Response format<a class=headerlink href=#response-format title="Permanent link">&para;</a></h2> <p>The response format differs when the request was successful compared to when it encountered an error.</p> <h3 id=successful-request>Successful request<a class=headerlink href=#successful-request title="Permanent link">&para;</a></h3> <p>The TDM response from a successful request typically contains an output utterance and other relevant information. Example:</p> <div class=highlight><pre><span></span><code><span class=p>{</span>
<span class=w>  </span><span class=nt>&quot;version&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;3.4&quot;</span><span class=p>,</span>
<span class=w>  </span><span class=nt>&quot;session&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=nt>&quot;session_id&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;0000-abcd-1111-efgh&quot;</span>
<span class=w>  </span><span class=p>},</span>
<span class=w>  </span><span class=nt>&quot;output&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=nt>&quot;moves&quot;</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=s2>&quot;ask(?X.selected_contact(X))&quot;</span><span class=p>],</span>
<span class=w>    </span><span class=nt>&quot;utterance&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;Who do you want to call?&quot;</span><span class=p>,</span>
<span class=w>    </span><span class=nt>&quot;expected_passivity&quot;</span><span class=p>:</span><span class=w> </span><span class=mf>5.0</span><span class=p>,</span>
<span class=w>    </span><span class=nt>&quot;actions&quot;</span><span class=p>:</span><span class=w> </span><span class=p>[]</span>
<span class=w>  </span><span class=p>},</span>
<span class=w>  </span><span class=nt>&quot;nlu_result&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=nt>&quot;selected_utterance&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;call John&quot;</span><span class=p>,</span>
<span class=w>    </span><span class=nt>&quot;confidence&quot;</span><span class=p>:</span><span class=w> </span><span class=mf>0.88</span>
<span class=w>  </span><span class=p>},</span>
<span class=w>  </span><span class=nt>&quot;context&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=nt>&quot;active_ddd&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;my_ddd&quot;</span><span class=p>,</span>
<span class=w>    </span><span class=nt>&quot;available_ddds&quot;</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=s2>&quot;my_ddd&quot;</span><span class=p>,</span><span class=w> </span><span class=s2>&quot;another_ddd&quot;</span><span class=p>],</span>
<span class=w>    </span><span class=nt>&quot;facts&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{},</span>
<span class=w>    </span><span class=nt>&quot;language&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;eng&quot;</span><span class=p>,</span>
<span class=w>    </span><span class=nt>&quot;goal&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;perform(call)&quot;</span><span class=p>,</span>
<span class=w>    </span><span class=nt>&quot;plan&quot;</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=s2>&quot;findout(?X.selected_contact(X))&quot;</span><span class=p>],</span>
<span class=w>    </span><span class=nt>&quot;facts_being_grounded&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{},</span>
<span class=w>    </span><span class=nt>&quot;selected_hypothesis&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
<span class=w>      </span><span class=nt>&quot;utterance&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;call John&quot;</span><span class=p>,</span>
<span class=w>      </span><span class=nt>&quot;confidence&quot;</span><span class=p>:</span><span class=w> </span><span class=mf>0.88</span>
<span class=w>    </span><span class=p>},</span>
<span class=w>    </span><span class=nt>&quot;selected_interpretation&quot;</span><span class=p>:</span><span class=w> </span><span class=p>[{</span>
<span class=w>      </span><span class=nt>&quot;ddd&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;send_to_frontend&quot;</span><span class=p>,</span>
<span class=w>      </span><span class=nt>&quot;understanding_confidence&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;0.749&quot;</span><span class=p>,</span>
<span class=w>      </span><span class=nt>&quot;perception_confidence&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;0.88&quot;</span><span class=p>,</span>
<span class=w>      </span><span class=nt>&quot;semantic_expression&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;request(call)&quot;</span>
<span class=w>    </span><span class=p>}],</span>
<span class=w>    </span><span class=nt>&quot;expected_input&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
<span class=w>      </span><span class=nt>&quot;alternatives&quot;</span><span class=p>:</span><span class=w> </span><span class=p>[</span>
<span class=w>        </span><span class=p>{</span><span class=nt>&quot;semantic_expression&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;answer(contact_john)&quot;</span><span class=p>},</span>
<span class=w>        </span><span class=p>{</span><span class=nt>&quot;semantic_expression&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;answer(contact_lisa)&quot;</span><span class=p>}</span>
<span class=w>      </span><span class=p>]</span>
<span class=w>    </span><span class=p>}</span>
<span class=w>  </span><span class=p>}</span>
<span class=p>}</span>
</code></pre></div> <p>The <code>session</code> object is always provided and contains the same data that was provided in the request. Unlike requests however, it always contains:</p> <ul> <li><code>session_id</code>: The ID of the current session.</li> </ul> <p>The <code>output</code> object is provided unless an error has occurred and has the following members:</p> <ul> <li><code>moves</code>: The moves made by the system this turn. This is a list of <a href=../../formalism/#moves>move expressions in the dialog formalism</a>, where the moves should be uttered in the listed order. Moves here are similar to the <code>semantic_expression</code> field of <a href=#nlu-move-object>move objects</a>.</li> <li><code>utterance</code>: A string representing the output utterance from the system and should be realized by the client (e.g. by speaking it or displaying it as text).</li> <li><code>expected_passivity</code>: If not <code>null</code>, the value is a number corresponding to the number of seconds of user passivity after which the client is expected to make a <a href=#passivity-requests>passivity request</a>. If the value is 0.0, the passivity notification request should be issued immediately after having realized the system output. If the value is <code>null</code>, this means that TDM doesn't expect the user to have anything to say right now. For a speech-driven application, this probably means that the ASR should not be automatically activated when receiving this, but that the user should push to interact or similar.</li> <li><code>actions</code>: A list of <a href=#action-invocation-object>action invocation objects</a>, which needs to be invoked by the client. TDM assumes that the actions will succeed and reports them accordingly.</li> </ul> <p>The <code>nlu_result</code> object is provided for <a href=#natural-language-input-requests>natural language input requests</a>, unless an error has occurred. It has the following members:</p> <ul> <li><code>selected_utterance</code>: The utterance selected as the best candidate among the list of hypotheses.</li> <li><code>confidence</code>: A number representing the joint confidence of the input and the NLU processing.</li> </ul> <p>The <code>context</code> object is provided unless an error has occurred and contains the following members:</p> <ul> <li><code>active_ddd</code>: The name of the currently active DDD.</li> <li><code>available_ddds</code>: The DDDs available in the current DDD set.</li> <li><code>facts</code>: Information gathered during the conversation (see <a href=#facts-object>facts object</a>).</li> <li><code>language</code>: ID of the current language.</li> <li><code>goal</code>: Currently active goal, expressed as a <a href=../../formalism/#goals>goal in the dialog formalism</a>.</li> <li><code>plan</code>: Remaining items on the current plan, represented by a list of <a href=../../formalism/#plan-items>plan items in the dialog formalism</a>.</li> <li><code>facts_being_grounded</code>: Information that the system is currently grounding with the user, represented as a list of <a href=#facts-object>facts objects</a>.</li> <li><code>selected_hypothesis</code>: The natural language hypothesis that the system decided to act on. If the system turn was requested with a <a href=#natural-language-input-requests>natural language input request</a>, this corresponds to one of the <a href=../shared_objects/#hypothesis-object>hypothesis objects</a> that were part of it. This field is <code>null</code> if a hypothesis could not be determined.</li> <li><code>selected_interpretation</code>: The semantic interpretation that the system decided to act on. If the system turn was requested with a <a href=#semantic-input-requests>semantic input request</a>, this corresponds to one of the <a href=../shared_objects/#interpretation-object>interpretation objects</a> that were part of it. This field is <code>null</code> if an interpretation could not be determined.</li> <li><code>expected_input</code>: An <a href=#expected-input-object>expected input object</a>, containing alternatives that TDM considers expected by the user the next turn. This field is <code>null</code> if TDM does not expect input, or if it doesn't know what input to expect.</li> </ul> <p>A <code>warnings</code> field is provided if warnings have been issued, as a list of strings, one string per warning. This can for instance happen when TDM is updated to a new version of this frontend API and the previous version is deprecated. In such cases, update your request formats to comply with the warning and avoid potential future errors:</p> <h3 id=request-that-encountered-an-error><a name=error-response></a>Request that encountered an error<a class=headerlink href=#request-that-encountered-an-error title="Permanent link">&para;</a></h3> <p>The TDM response when an error was encountered in the request contains an error description.</p> <div class=highlight><pre><span></span><code><span class=p>{</span>
<span class=w>  </span><span class=nt>&quot;version&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;3.4&quot;</span><span class=p>,</span>
<span class=w>  </span><span class=nt>&quot;session&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=nt>&quot;session_id&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;0000-abcd-1111-efgh&quot;</span>
<span class=w>  </span><span class=p>},</span>
<span class=w>  </span><span class=nt>&quot;error&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=nt>&quot;description&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;An exception was encountered when processing the request&quot;</span>
<span class=w>  </span><span class=p>}</span>
<span class=p>}</span>
</code></pre></div> <p>An <code>error</code> object is provided if an error has occurred. In such cases, an error should be reported to the user by the client, and the session should not be resumed with further requests. The <code>error</code> field has the following members:</p> <ul> <li><code>description</code>: A human readable technical description of the error.</li> </ul> <h2 id=session-object>Session object<a class=headerlink href=#session-object title="Permanent link">&para;</a></h2> <p>A session object can contain frontend-specific session data. The data is forwarded as is to all service calls on the <a href=../service_api/#session-object>HTTP API for services</a>. That way, the data can be used in service calls directly; or influence the dialog, for instance by being retrieved through service queries. Note that session data is not automatically stored or attached to the session within TDM. It is returned in the <a href=#response-format>response</a> and can be injected in future requests. If specific data should be available to all service calls on a session, the data needs to be injected in every request on that session, or the DDD needs to retrieve it into the dialog state, for instance by a service query. For all requests except <a href=./#start-session-requests>start session</a>, a <code>session_id</code> is required and used to identify to which session the request is being made. For start session requests however, the <code>session_id</code> is disallowed and instead generated by TDM. It should be retrieved from the <a href=#response-format>response</a>.</p> <p>Example for start session request:</p> <div class=highlight><pre><span></span><code><span class=p>{</span>
<span class=w>  </span><span class=nt>&quot;session&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=nt>&quot;my_frontend&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
<span class=w>      </span><span class=nt>&quot;user_id&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;123-abc-456-def&quot;</span><span class=p>,</span>
<span class=w>      </span><span class=nt>&quot;position&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=nt>&quot;latitude&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;57.699188&quot;</span><span class=p>,</span>
<span class=w>        </span><span class=nt>&quot;longitude&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;11.948313&quot;</span>
<span class=w>      </span><span class=p>}</span>
<span class=w>    </span><span class=p>}</span>
<span class=w>  </span><span class=p>}</span>
<span class=p>}</span>
</code></pre></div> <p>Example otherwise:</p> <div class=highlight><pre><span></span><code><span class=p>{</span>
<span class=w>  </span><span class=nt>&quot;session&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=nt>&quot;session_id&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;0000-abcd-1111-efgh&quot;</span><span class=p>,</span>
<span class=w>    </span><span class=nt>&quot;my_frontend&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
<span class=w>      </span><span class=nt>&quot;user_id&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;123-abc-456-def&quot;</span><span class=p>,</span>
<span class=w>      </span><span class=nt>&quot;position&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
<span class=w>        </span><span class=nt>&quot;latitude&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;57.699188&quot;</span><span class=p>,</span>
<span class=w>        </span><span class=nt>&quot;longitude&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;11.948313&quot;</span>
<span class=w>      </span><span class=p>}</span>
<span class=w>    </span><span class=p>}</span>
<span class=w>  </span><span class=p>}</span>
<span class=p>}</span>
</code></pre></div> <h2 id=output-object>Output object<a class=headerlink href=#output-object title="Permanent link">&para;</a></h2> <p>The <code>output</code> object contains the following members:</p> <ul> <li><code>moves</code>: The moves made by the system this turn. This is a list of <a href=../../formalism/#moves>move expressions in the dialog formalism</a>. Moves here are similar to the <code>semantic_expression</code> field of <a href=#nlu-move-object>move objects</a>.</li> <li><code>utterance</code>: A string representing the output utterance from the system and should be realized by the client (e.g. by speaking it or displaying it as text).</li> <li><code>expected_passivity</code>: If not null, the value is a number corresponding to the number of seconds of user passivity after which the client is expected to make a <a href=#passivity-requests>passivity request</a>. If the value is 0.0, the passivity notification request should be issued immediately after having realized the system output.</li> <li><code>actions</code>: A list of <a href=action-invocation-object>action invocation objects</a>, which needs to be invoked by the client. TDM assumes that the actions will succeed and reports them accordingly.</li> </ul> <h2 id=nlu-results-object>NLU results object<a class=headerlink href=#nlu-results-object title="Permanent link">&para;</a></h2> <p>The <code>nlu_result</code> object contains the following members:</p> <ul> <li><code>selected_utterance</code>: The utterance selected as the best candidate amoung the list of natural language input hypotheses.</li> <li><code>confidence</code>: A number representing the joint confidence of the input and the NLU processing.</li> </ul> <h2 id=context-object>Context object<a class=headerlink href=#context-object title="Permanent link">&para;</a></h2> <p>The <code>context</code> object contains the following members:</p> <ul> <li><code>active_ddd</code>: The name of the currently active DDD.</li> <li><code>facts</code>: Information gathered during the conversation (see <a href=facts-object>facts object</a>).</li> <li><code>language</code>: ID of the current language.</li> <li><code>goal</code>: Currently active goal, expressed as a <a href=../../formalism/#goal-propositions>goal proposition in the dialog formalism</a>.</li> <li><code>plan</code>: Remaining items on the current plan, represented by a list of <a href=../../formalism/#plan-items>plan items in the dialog formalism</a>.</li> <li><code>facts_being_grounded</code>: Information that the system is currently grounding with the user, represented as a list of <a href=facts-object>facts objects</a>.</li> <li><code>selected_hypothesis</code>: The natural language hypothesis that the system decided to act on. If the system turn was requested with a <a href=#natural-language-input-requests>natural language input request</a>, this corresponds to one of the <a href=../shared_objects/#hypothesis-object>hypothesis objects</a> that were part of it. This field is <code>null</code> if a hypothesis could not be determined.</li> <li><code>selected_interpretation</code>: The semantic interpretation that the system decided to act on. If the system turn was requested with a <a href=#semantic-input-requests>semantic input request</a>, this corresponds to one of the <a href=../shared_objects/#interpretation-object>interpretation objects</a> that were part of it. This field is <code>null</code> if an interpretation could not be determined.</li> <li><code>expected_input</code>: An <a href=expected-input-object>expected input object</a>, containing alternatives that TDM considers expected by the user the next turn. This field is <code>null</code> if TDM does not expect input, or if it doesn't know what input to expect.</li> </ul> <h2 id=action-invocation-object>Action invocation object<a class=headerlink href=#action-invocation-object title="Permanent link">&para;</a></h2> <p>An action invocation object contains information about an action to be invoked by the client. The object has the following members:</p> <ul> <li><code>name</code> is a string corresponding to the action's name in <code>service_interface.xml</code>.</li> <li><code>parameters</code> contains values for all parameters that are specified for the method in <code>service_interface.xml</code>. If a parameter is unknown, its value is <code>null</code>. Otherwise it's an object containing:<ul> <li><code>sort</code>: ID of the predicate's sort as defined in the ontology.</li> <li><code>value</code>: ID of the value. For the sorts <code>integer</code> and <code>real</code>, the ID is a number. For other sorts, e.g. <code>string</code>, <code>datetime</code> and custom sorts, the ID is a string.</li> <li><code>grammar_entry</code>: Natural-language representation of the value.</li> </ul> </li> </ul> <p>Example:</p> <div class=highlight><pre><span></span><code><span class=p>{</span>
<span class=w>  </span><span class=nt>&quot;name&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;call&quot;</span><span class=p>,</span>
<span class=w>  </span><span class=nt>&quot;parameters&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=nt>&quot;selected_contact&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
<span class=w>      </span><span class=nt>&quot;sort&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;contact&quot;</span><span class=p>,</span>
<span class=w>      </span><span class=nt>&quot;value&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;contact_john&quot;</span><span class=p>,</span>
<span class=w>      </span><span class=nt>&quot;grammar_entry&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;John&quot;</span>
<span class=w>    </span><span class=p>}</span>
<span class=w>  </span><span class=p>}</span>
<span class=p>}</span>
</code></pre></div> <h2 id=facts-object>Facts object<a class=headerlink href=#facts-object title="Permanent link">&para;</a></h2> <p>The <code>facts</code> field contains a map of key-value pairs for information gathered during the conversation, e.g. from the user. The map may be empty.</p> <p>The key is a string matching a predicate as defined in the ontology. The value is an object with the following members:</p> <ul> <li><code>sort</code>: ID of the predicate's sort as defined in the ontology.</li> <li><code>value</code>: ID of the value (e.g. a number or a string depending on the sort). For predicates of sort <code>datetime</code>, the ID is an ISO 8601 string.</li> <li><code>grammar_entry</code>: Natural-language representation of the value.</li> </ul> <p>Example:</p> <div class=highlight><pre><span></span><code><span class=p>{</span>
<span class=w>  </span><span class=nt>&quot;facts&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
<span class=w>    </span><span class=nt>&quot;departure&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
<span class=w>      </span><span class=nt>&quot;sort&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;city&quot;</span><span class=p>,</span>
<span class=w>      </span><span class=nt>&quot;value&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;city_012345&quot;</span><span class=p>,</span>
<span class=w>      </span><span class=nt>&quot;grammar_entry&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;London&quot;</span>
<span class=w>    </span><span class=p>},</span>
<span class=w>    </span><span class=nt>&quot;destination&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
<span class=w>      </span><span class=nt>&quot;sort&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;city&quot;</span><span class=p>,</span>
<span class=w>      </span><span class=nt>&quot;value&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;city_012346&quot;</span><span class=p>,</span>
<span class=w>      </span><span class=nt>&quot;grammar_entry&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;Newcastle&quot;</span>
<span class=w>    </span><span class=p>}</span>
<span class=w>  </span><span class=p>}</span>
<span class=p>}</span>
</code></pre></div> <h2 id=expected-input-object>Expected input object<a class=headerlink href=#expected-input-object title="Permanent link">&para;</a></h2> <p>The expected input object contains alternatives that TDM considers expected by the user the next turn. They can for instance be used to add quick-answer buttons to a GUI or chat client.</p> <p>The object has the following members:</p> <ul> <li><code>alternatives</code>: A list of <a href=#alternative-object>alternative objects</a>.</li> </ul> <p>If TDM asks a <a href=../../formalism/#yn-questions>yes-no question</a>, it expects the yes or no <a href=../../formalism/#answer-moves>answer</a>:</p> <div class=highlight><pre><span></span><code><span class=p>{</span>
<span class=w>  </span><span class=nt>&quot;alternatives&quot;</span><span class=p>:</span><span class=w> </span><span class=p>[</span>
<span class=w>    </span><span class=p>{</span><span class=nt>&quot;semantic_expression&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;answer(yes)&quot;</span><span class=p>},</span>
<span class=w>    </span><span class=p>{</span><span class=nt>&quot;semantic_expression&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;answer(no)&quot;</span><span class=p>}</span>
<span class=w>  </span><span class=p>]</span>
<span class=p>}</span>
</code></pre></div> <p>If TDM asks an <a href=../../formalism/#alt-questions>alternative question</a> or a <a href=../../formalism/#wh-questions>wh-question</a> where the alternatives are known, the expected input object either contains <a href=../../formalism/#answer-moves>answer moves</a> with <a href=../../formalism/#unary-propositions>unary propositions</a>:</p> <div class=highlight><pre><span></span><code><span class=p>{</span>
<span class=w>  </span><span class=nt>&quot;alternatives&quot;</span><span class=p>:</span><span class=w> </span><span class=p>[</span>
<span class=w>    </span><span class=p>{</span><span class=nt>&quot;semantic_expression&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;answer(selected_contact(contact_john))&quot;</span><span class=p>},</span>
<span class=w>    </span><span class=p>{</span><span class=nt>&quot;semantic_expression&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;answer(selected_contact(contact_lisa))&quot;</span><span class=p>}</span>
<span class=w>  </span><span class=p>]</span>
<span class=p>}</span>
</code></pre></div> <p>... or <a href=../../formalism/#request-moves>request</a> and <a href=../../formalism/#ask-moves>ask moves</a>:</p> <div class=highlight><pre><span></span><code><span class=p>{</span>
<span class=w>  </span><span class=nt>&quot;alternatives&quot;</span><span class=p>:</span><span class=w> </span><span class=p>[</span>
<span class=w>    </span><span class=p>{</span><span class=nt>&quot;semantic_expression&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;request(call)&quot;</span><span class=p>},</span>
<span class=w>    </span><span class=p>{</span><span class=nt>&quot;semantic_expression&quot;</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;ask(?X.phone_number(X))&quot;</span><span class=p>}</span>
<span class=w>  </span><span class=p>]</span>
<span class=p>}</span>
</code></pre></div> <h2 id=alternative-object>Alternative object<a class=headerlink href=#alternative-object title="Permanent link">&para;</a></h2> <p>An alternative object contains information about the moves that the user is expected to take the next turn. It contains the following members:</p> <ul> <li><code>semantic_expression</code>: A semantic expression of the expected move, expressed in the <a href=../../formalism/#moves>dialog formalism</a>.</li> </ul> <aside class=md-source-file> <span class=md-source-file__fact> <span class=md-icon title="Last update"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1-2.1-2M12.5 7v5.2l4 2.4-1 1L11 13V7h1.5M11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2v1.8Z"/></svg> </span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">September 14, 2022</span> </span> </aside> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright &copy; 2008 - 2020 Talkamatic </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../..", "features": ["tabs"], "search": "../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script> <script src=../../assets/javascripts/bundle.3220b9d7.min.js></script> </body> </html>